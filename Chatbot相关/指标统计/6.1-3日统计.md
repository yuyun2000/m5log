# 产品词云
![](../../file/Pasted%20image%2020250603152904.png)
# 问题词云
![](../../file/Pasted%20image%2020250603154657.png)


# 用户问题类别、语种
![](../../file/Pasted%20image%2020250603154941.png)
![](../../file/Pasted%20image%2020250603154955.png)


# 数条被外部大模型判负的对话记录


**用户：** il core 2 ha un multiplexer integrato?

**助手：** Non, la documentazione fornita non menziona che il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) abbia un multiplexer integrato.

[SQ] Quali altri moduli possono essere collegati al Core 2? [/SQ]

**用户：** quanti porte i2c ha un core 2 con extport module

**助手：** Il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) ha una porta I2C predefinita sulla PORT-A, con i pin G32/33 configurati per I2C. Inoltre, il Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123)) offre ulteriori possibilità di configurazione I2C attraverso i suoi 4 canali Grove (PORT.B/PORT.C/PORT.D/PORT.E). In particolare, PORT.D e PORT.E possono essere configurati per I2C tramite gli interruttori a codice interno:

- PortD-1 (cavo bianco): può essere impostato su 22 (I2C-SCL interno)
- PortD-2 (cavo giallo): può essere impostato su 21 (I2C-SDA interno)

In totale, con il Core 2 e il Module ExtPort For Core2, puoi avere fino a 3 configurazioni I2C separate se configurato correttamente.

[SQ] Come configurare gli interruttori a codice per utilizzare le porte I2C su PORT.D e PORT.E? [/SQ]

**用户：** hai esempi di 3 sensori i2c su arduino per un core 2

**助手：** Ecco alcuni esempi di sensori I2C che puoi utilizzare con il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) su Arduino:

1. **Unit Ultrasonic-I2C (SKU: U098-B1)**: Questo sensore può essere utilizzato per misurare le distanze tramite onde ultrasoniche. È possibile trovare esempi di codice per il Core 2 su [Unit Ultrasonic-I2C Test Example with M5Core2](https://github.com/m5stack/M5Unit-Sonic/blob/master/examples/Unit_SonicI2C_M5Core2/Unit_SonicI2C_M5Core2.ino).
2. **Unit Mini TVOC/eCO2**: Può misurare la concentrazione di composti organici volatili totali (TVOC) e l'equivalente di anidride carbonica (eCO2). È possibile trovare un esempio di codice in [Unit Mini TVOC/eCO2 Arduino](https://github.com/m5stack/M5UnitUnifiedENV).
3. **Unit ENV-III (SKU: U001-C)**: È un sensore ambientale di alta precisione che supporta la comunicazione I2C. È semplice da usare e supporta le piattaforme UIFlow e Arduino.

Puoi trovare questi prodotti e altri nuovi arrivi sul [M5Stack Official Store](https://shop.m5stack.com/collections/m5stack-new-arrival).

[SQ] Come installare le librerie necessarie per questi sensori? [/SQ]

**用户：** hai esempio di codice con 3 sensori i2c su arduino per un core 2

**助手：** Ecco un esempio di codice Arduino per il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) che utilizza tre sensori I2C. Supponiamo di utilizzare il seguente set di sensori:

1. **Unit Ultrasonic-I2C (SKU: U098-B1)**: Per misurare le distanze.
2. **Unit Mini TVOC/eCO2**: Per misurare la concentrazione di composti organici volatili totali (TVOC) e l'equivalente di anidride carbonica (eCO2).
3. **IMU interno al Core 2**: Per misurare l'accelerazione e la rotazione.

```cpp
#include <M5Unified.h>
#include <Unit_Sonic.h>
#include <M5UnitUnified.h>
#include <M5Unit-ENV.h>

SONIC_I2C ultrasonicSensor;
M5Unit::ENV* envSensor;

void setup() {
    M5.begin();
    M5.Display.setColorDepth(1);
    M5.Display.setFont(&fonts::Orbitron_Light_32);
    M5.Display.setTextDatum(middle_center);

    // Inizializza il sensore ultrasonico
    ultrasonicSensor.begin(&Wire, 0x57, 2, 1, 400000U);

    // Inizializza il sensore TVOC/eCO2
    envSensor = M5Unit::ENV::Create();
    envSensor->begin();
}

void loop() {
    // Leggi i dati dal sensore ultrasonico
    float distance = ultrasonicSensor.getDistance();
    Serial.printf("Distance: %.2fmm\r\n", distance);

    // Leggi i dati dal sensore TVOC/eCO2
    envSensor->update();
    float tvoc = envSensor->getTVOC();
    float eco2 = envSensor->geteCO2();
    Serial.printf("TVOC: %.2f ppb, eCO2: %.2f ppm\r\n", tvoc, eco2);

    // Leggi i dati dall'IMU
    M5.Imu.update();
    auto imuData = M5.Imu.getImuData();
    Serial.printf("Accel: x=%.2f, y=%.2f, z=%.2f\r\n", imuData.accel.x, imuData.accel.y, imuData.accel.z);
    Serial.printf("Gyro: x=%.2f, y=%.2f, z=%.2f\r\n", imuData.gyro.x, imuData.gyro.y, imuData.gyro.z);

    // Mostra i dati sul display
    M5.Display.fillScreen(TFT_BLACK);
    M5.Display.setCursor(0, 20);
    M5.Display.printf("Distance: %.2f mm", distance);
    M5.Display.setCursor(0, 60);
    M5.Display.printf("TVOC: %.2f ppb", tvoc);
    M5.Display.setCursor(0, 100);
    M5.Display.printf("eCO2: %.2f ppm", eco2);
    M5.Display.setCursor(0, 140);
    M5.Display.printf("Accel: x=%.2f, y=%.2f, z=%.2f", imuData.accel.x, imuData.accel.y, imuData.accel.z);
    M5.Display.setCursor(0, 180);
    M5.Display.printf("Gyro: x=%.2f, y=%.2f, z=%.2f", imuData.gyro.x, imuData.gyro.y, imuData.gyro.z);

    delay(1000);
}
```

### Spiegazione del codice:
1. **Setup**:
    - Inizializza il Core 2 utilizzando `M5.begin()`.
    - Inizializza il sensore ultrasonico utilizzando `ultrasonicSensor.begin()`.
    - Inizializza il sensore TVOC/eCO2 utilizzando `envSensor->begin()`.

2. **Loop**:
    - Legge i dati dal sensore ultrasonico utilizzando `ultrasonicSensor.getDistance()`.
    - Legge i dati dal sensore TVOC/eCO2 utilizzando `envSensor->getTVOC()` e `envSensor->geteCO2()`.
    - Legge i dati dall'IMU utilizzando `M5.Imu.getImuData()`.
    - Stampa i dati sulla seriale e sul display.
    - Attende 1 secondo prima di ripetere il ciclo.

[SQ] Come posso migliorare la precisione dei sensori? [/SQ]
[SQ] Come posso gestire eventuali errori di comunicazione I2C? [/SQ]

**用户：** con tre sensori tutti esterni?

**助手：** Ecco un esempio di codice Arduino per il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) che utilizza tre sensori esterni I2C: il Unit Ultrasonic-I2C (SKU: U098-B1), il Unit Mini TVOC/eCO2 e il Unit EXT.IO2 (SKU: U011-B).

```cpp
#include <M5Unified.h>
#include <Unit_Sonic.h>
#include <M5UnitUnified.h>
#include <M5Unit-EXTIO2.h>

SONIC_I2C ultrasonicSensor;
M5Unit::ENV* envSensor;
M5Unit::EXTIO2 extio2;

void setup() {
    M5.begin();
    M5.Display.setColorDepth(1);
    M5.Display.setFont(&fonts::Orbitron_Light_32);
    M5.Display.setTextDatum(middle_center);

    // Inizializza il sensore ultrasonico
    ultrasonicSensor.begin(&Wire, 0x57, 2, 1, 400000U);

    // Inizializza il sensore TVOC/eCO2
    envSensor = M5Unit::ENV::Create();
    envSensor->begin();

    // Inizializza il Unit EXT.IO2
    extio2.begin(&Wire);
}

void loop() {
    // Leggi i dati dal sensore ultrasonico
    float distance = ultrasonicSensor.getDistance();
    Serial.printf("Distance: %.2fmm\r\n", distance);

    // Leggi i dati dal sensore TVOC/eCO2
    envSensor->update();
    float tvoc = envSensor->getTVOC();
    float eco2 = envSensor->geteCO2();
    Serial.printf("TVOC: %.2f ppb, eCO2: %.2f ppm\r\n", tvoc, eco2);

    // Leggi i dati dal Unit EXT.IO2
    uint16_t adcValue = extio2.getADC(0);
    Serial.printf("ADC Value: %d\r\n", adcValue);

    // Mostra i dati sul display
    M5.Display.fillScreen(TFT_BLACK);
    M5.Display.setCursor(0, 20);
    M5.Display.printf("Distance: %.2f mm", distance);
    M5.Display.setCursor(0, 60);
    M5.Display.printf("TVOC: %.2f ppb", tvoc);
    M5.Display.setCursor(0, 100);
    M5.Display.printf("eCO2: %.2f ppm", eco2);
    M5.Display.setCursor(0, 140);
    M5.Display.printf("ADC Value: %d", adcValue);

    delay(1000);
}
```

### Spiegazione del codice:
1. **Setup**:
    - Inizializza il Core 2 utilizzando `M5.begin()`.
    - Inizializza il sensore ultrasonico utilizzando `ultrasonicSensor.begin()`.
    - Inizializza il sensore TVOC/eCO2 utilizzando `envSensor->begin()`.
    - Inizializza il Unit EXT.IO2 utilizzando `extio2.begin()`.

2. **Loop**:
    - Legge i dati dal sensore ultrasonico utilizzando `ultrasonicSensor.getDistance()`.
    - Legge i dati dal sensore TVOC/eCO2 utilizzando `envSensor->getTVOC()` e `envSensor->geteCO2()`.
    - Legge i dati dal Unit EXT.IO2 utilizzando `extio2.getADC(0)`.
    - Stampa i dati sulla seriale e sul display.
    - Attende 1 secondo prima di ripetere il ciclo.

[SQ] Come posso gestire eventuali errori di comunicazione I2C? [/SQ]
[SQ] Come posso migliorare la precisione dei sensori? [/SQ]

**用户：** con tre sensori tutti esterni utilizzando porte diverse?

**助手：** Per utilizzare tre sensori esterni con porte diverse sul Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)), puoi sfruttare le porte I2C e le GPIO disponibili. Il Core 2 dispone di un'interfaccia GROVE (I2C+I/O+UART) e di GPIO estendibili.

### Esempio con tre sensori I2C:
1. **Unit Ultrasonic-I2C (SKU: U098-B1)**: Utilizza l'indirizzo I2C 0x57.
2. **Unit Mini TVOC/eCO2**: Utilizza l'indirizzo I2C predefinito del sensore.
3. **Unit EXT.IO2 (SKU: U011-B)**: Utilizza l'indirizzo I2C predefinito del sensore.

### Codice Arduino:
```cpp
#include <M5Unified.h>
#include <Unit_Sonic.h>
#include <M5UnitUnified.h>
#include <M5Unit-EXTIO2.h>

SONIC_I2C ultrasonicSensor;
M5Unit::ENV* envSensor;
M5Unit::EXTIO2 extio2;

void setup() {
    M5.begin();
    M5.Display.setColorDepth(1);
    M5.Display.setFont(&fonts::Orbitron_Light_32);
    M5.Display.setTextDatum(middle_center);

    // Inizializza il sensore ultrasonico
    ultrasonicSensor.begin(&Wire, 0x57, 2, 1, 400000U);

    // Inizializza il sensore TVOC/eCO2
    envSensor = M5Unit::ENV::Create();
    envSensor->begin();

    // Inizializza il Unit EXT.IO2
    extio2.begin(&Wire);
}

void loop() {
    // Leggi i dati dal sensore ultrasonico
    float distance = ultrasonicSensor.getDistance();
    Serial.printf("Distance: %.2fmm\r\n", distance);

    // Leggi i dati dal sensore TVOC/eCO2
    envSensor->update();
    float tvoc = envSensor->getTVOC();
    float eco2 = envSensor->geteCO2();
    Serial.printf("TVOC: %.2f ppb, eCO2: %.2f ppm\r\n", tvoc, eco2);

    // Leggi i dati dal Unit EXT.IO2
    uint16_t adcValue = extio2.getADC(0);
    Serial.printf("ADC Value: %d\r\n", adcValue);

    // Mostra i dati sul display
    M5.Display.fillScreen(TFT_BLACK);
    M5.Display.setCursor(0, 20);
    M5.Display.printf("Distance: %.2f mm", distance);
    M5.Display.setCursor(0, 60);
    M5.Display.printf("TVOC: %.2f ppb", tvoc);
    M5.Display.setCursor(0, 100);
    M5.Display.printf("eCO2: %.2f ppm", eco2);
    M5.Display.setCursor(0, 140);
    M5.Display.printf("ADC Value: %d", adcValue);

    delay(1000);
}
```

### Spiegazione del codice:
1. **Setup**:
    - Inizializza il Core 2 utilizzando `M5.begin()`.
    - Inizializza il sensore ultrasonico utilizzando `ultrasonicSensor.begin()`.
    - Inizializza il sensore TVOC/eCO2 utilizzando `envSensor->begin()`.
    - Inizializza il Unit EXT.IO2 utilizzando `extio2.begin()`.

2. **Loop**:
    - Legge i dati dal sensore ultrasonico utilizzando `ultrasonicSensor.getDistance()`.
    - Legge i dati dal sensore TVOC/eCO2 utilizzando `envSensor->getTVOC()` e `envSensor->geteCO2()`.
    - Legge i dati dal Unit EXT.IO2 utilizzando `extio2.getADC(0)`.
    - Stampa i dati sulla seriale e sul display.
    - Attende 1 secondo prima di ripetere il ciclo.

[SQ] Come posso gestire eventuali conflitti di indirizzo I2C? [/SQ]
[SQ] Come posso migliorare la precisione dei sensori? [/SQ]

**用户：** a quali porte sono collegate i sensori

**助手：** I sensori Unit Ultrasonic-I2C (SKU: [U098-B1](https://docs.m5stack.com/en/products/sku/U098-B1)), Unit Mini TVOC/eCO2 (SKU: [U088](https://docs.m5stack.com/en/products/sku/U088)) e Unit EXT.IO2 (SKU: [U011-B](https://docs.m5stack.com/en/products/sku/U011-B)) possono essere collegati alla porta GROVE (PORT.A) del Core 2 utilizzando un cavo GROVE HY2.0-4P.

### Collegamento dei sensori:
| Sensore | GND | 5V | SDA | SCL |
| ---- | ---- | ---- | ---- | ---- |
| Unit Ultrasonic-I2C (SKU: [U098-B1](https://docs.m5stack.com/en/products/sku/U098-B1)) | Nero | Rosso | Giallo | Bianco |
| Unit Mini TVOC/eCO2 (SKU: [U088](https://docs.m5stack.com/en/products/sku/U088)) | Nero | Rosso | Giallo | Bianco |
| Unit EXT.IO2 (SKU: [U011-B](https://docs.m5stack.com/en/products/sku/U011-B)) | Nero | Rosso | Giallo | Bianco |

### Spiegazione:
- **GND**: Connessione a terra.
- **5V**: Alimentazione a 5V.
- **SDA**: Linea dati I2C.
- **SCL**: Linea di clock I2C.

Tutti e tre i sensori utilizzano l'interfaccia I2C e possono essere collegati alla stessa porta GROVE poiché hanno indirizzi I2C diversi:
- Unit Ultrasonic-I2C (SKU: [U098-B1](https://docs.m5stack.com/en/products/sku/U098-B1)): Indirizzo I2C 0x57.
- Unit Mini TVOC/eCO2 (SKU: [U088](https://docs.m5stack.com/en/products/sku/U088)): Indirizzo I2C 0x58.
- Unit EXT.IO2 (SKU: [U011-B](https://docs.m5stack.com/en/products/sku/U011-B)): Indirizzo I2C predefinito 0x45.

[SQ] Come posso verificare se i sensori sono correttamente collegati? [/SQ]
[SQ] Come posso gestire eventuali conflitti di indirizzo I2C? [/SQ]

**用户：** come sarebbe il codice se non posso collegarli alla stessa porta e dovessi collegarlo a tre porte diverse

**助手：** Se non puoi collegare i sensori alla stessa porta, ma devi collegarli a tre porte diverse, dovrai modificare il codice in modo da inizializzare ogni sensore su una porta diversa. Supponiamo di utilizzare il Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) e di collegare i sensori come segue:

1. **Unit Ultrasonic-I2C (SKU: [U098-B1](https://docs.m5stack.com/en/products/sku/U098-B1))**: PORT.A
2. **Unit Mini TVOC/eCO2 (SKU: [U088](https://docs.m5stack.com/en/products/sku/U088))**: PORT.B
3. **Unit EXT.IO2 (SKU: [U011-B](https://docs.m5stack.com/en/products/sku/U011-B))**: PORT.C

### Codice Arduino:
```cpp
#include <M5Unified.h>
#include <Unit_Sonic.h>
#include <M5UnitUnified.h>
#include <M5UnitUnifiedENV.h>
#include <M5Unit-EXTIO2.h>

SONIC_I2C ultrasonicSensor;
M5Unit::ENV* envSensor;
M5Unit::EXTIO2 extio2;

void setup() {
    M5.begin();
    M5.Display.setColorDepth(1);
    M5.Display.setFont(&fonts::Orbitron_Light_32);
    M5.Display.setTextDatum(middle_center);

    // Inizializza il sensore ultrasonico sulla PORT.A
    ultrasonicSensor.begin(&Wire, 0x57, M5.getPin(m5::pin_name_t::port_a_sda), M5.getPin(m5::pin_name_t::port_a_scl), 400000U);

    // Inizializza il sensore TVOC/eCO2 sulla PORT.B
    auto pin_num_sda_b = M5.getPin(m5::pin_name_t::port_b_sda);
    auto pin_num_scl_b = M5.getPin(m5::pin_name_t::port_b_scl);
    Wire1.begin(pin_num_sda_b, pin_num_scl_b, 400000U);
    envSensor = M5Unit::ENV::Create();
    envSensor->begin(&Wire1);

    // Inizializza il Unit EXT.IO2 sulla PORT.C
    auto pin_num_sda_c = M5.getPin(m5::pin_name_t::port_c_sda);
    auto pin_num_scl_c = M5.getPin(m5::pin_name_t::port_c_scl);
    Wire2.begin(pin_num_sda_c, pin_num_scl_c, 400000U);
    extio2.begin(&Wire2);
}

void loop() {
    // Leggi i dati dal sensore ultrasonico
    float distance = ultrasonicSensor.getDistance();
    Serial.printf("Distance: %.2fmm\r\n", distance);

    // Leggi i dati dal sensore TVOC/eCO2
    envSensor->update();
    float tvoc = envSensor->getTVOC();
    float eco2 = envSensor->geteCO2();
    Serial.printf("TVOC: %.2f ppb, eCO2: %.2f ppm\r\n", tvoc, eco2);

    // Leggi i dati dal Unit EXT.IO2
    uint16_t adcValue = extio2.getADC(0);
    Serial.printf("ADC Value: %d\r\n", adcValue);

    // Mostra i dati sul display
    M5.Display.fillScreen(TFT_BLACK);
    M5.Display.setCursor(0, 20);
    M5.Display.printf("Distance: %.2f mm", distance);
    M5.Display.setCursor(0, 60);
    M5.Display.printf("TVOC: %.2f ppb", tvoc);
    M5.Display.setCursor(0, 100);
    M5.Display.printf("eCO2: %.2f ppm", eco2);
    M5.Display.setCursor(0, 140);
    M5.Display.printf("ADC Value: %d", adcValue);

    delay(1000);
}
```

### Spiegazione del codice:
1. **Setup**:
    - Inizializza il Core 2 utilizzando `M5.begin()`.
    - Inizializza il sensore ultrasonico sulla PORT.A utilizzando `ultrasonicSensor.begin()`.
    - Inizializza il sensore TVOC/eCO2 sulla PORT.B utilizzando `Wire1` e `envSensor->begin()`.
    - Inizializza il Unit EXT.IO2 sulla PORT.C utilizzando `Wire2` e `extio2.begin()`.

2. **Loop**:
    - Legge i dati dal sensore ultrasonico utilizzando `ultrasonicSensor.getDistance()`.
    - Legge i dati dal sensore TVOC/eCO2 utilizzando `envSensor->getTVOC()` e `envSensor->geteCO2()`.
    - Legge i dati dal Unit EXT.IO2 utilizzando `extio2.getADC(0)`.
    - Stampa i dati sulla seriale e sul display.
    - Attende 1 secondo prima di ripetere il ciclo.

[SQ] Come posso gestire eventuali errori di inizializzazione dei sensori? [/SQ]
[SQ] Come posso ottimizzare il codice per ridurre il consumo energetico? [/SQ]

**用户：** ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:81:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t readWithTransaction(uint8_t* data, const size_t len)
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:86:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint8_t* data, const size_t len, const bool stop = true)
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:91:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint8_t reg, const uint8_t* data, const size_t len,
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:97:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint16_t reg, const uint8_t* data, const size_t len,
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:182:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t readWithTransaction(uint8_t*, const size_t)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:186:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:190:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint8_t, const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:194:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint16_t, const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:199:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t generalCall(const uint8_t*, const size_t)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:24:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:31:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:197:25: note: in expansion of macro 'm5'
     virtual bool assign(m5::hal::bus::Bus* bus);
                         ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:197:42: error: expected ',' or '...' before '*' token
     virtual bool assign(m5::hal::bus::Bus* bus);
                                          ^
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:305:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t readWithTransaction(uint8_t* data, const size_t len);
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:349:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t writeWithTransaction(const uint8_t* data, const size_t len, const bool stop = true);
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:354:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t writeWithTransaction(const Reg reg, const uint8_t* data, const size_t len,
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:491:20: note: in expansion of macro 'm5'
     inline virtual m5::hal::error::error_t select_channel(const uint8_t)
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::unit::Adapter> _adapter{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::unit::Adapter> _adapter{};
                                      ^
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: error: template argument 2 is invalid
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp: In member function 'unit::Adapter* unit::Component::adapter() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:160:25: error: request for member 'get' in '((const unit::Component*)this)->unit::Component::_adapter', which is of non-class type 'const int'
         return _adapter.get();
                         ^~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:30:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:28: note: in expansion of macro 'm5'
     bool add(Component& u, m5::hal::bus::Bus* bus);
                            ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:45: error: expected ',' or '...' before '*' token
     bool add(Component& u, m5::hal::bus::Bus* bus);
                                             ^
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:28: note: in expansion of macro 'm5'
     bool add(Component& u, m5::unit::Adapter* a);
                            ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:45: error: expected ',' or '...' before '*' token
     bool add(Component& u, m5::unit::Adapter* a);
                                             ^
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:10: error: 'bool unit::UnitUnified::add(unit::Component&, int)' cannot be overloaded with 'bool unit::UnitUnified::add(unit::Component&, int)'
     bool add(Component& u, m5::unit::Adapter* a);
          ^~~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:10: note: previous declaration 'bool unit::UnitUnified::add(unit::Component&, int)'
     bool add(Component& u, m5::hal::bus::Bus* bus);
          ^~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<scd4x::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:21,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<scd4x::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In constructor 'unit::UnitSCD40::UnitSCD40(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<scd4x::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:21,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<scd4x::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'unit::scd4x::Data unit::UnitSCD40::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'unit::scd4x::Data unit::UnitSCD40::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual size_t unit::UnitSCD40::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual bool unit::UnitSCD40::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual bool unit::UnitSCD40::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual void unit::UnitSCD40::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual void unit::UnitSCD40::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD41.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD41.hpp:15:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sht30::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:24,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sht30::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In constructor 'unit::UnitSHT30::UnitSHT30(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sht30::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:24,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sht30::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'unit::sht30::Data unit::UnitSHT30::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'unit::sht30::Data unit::UnitSHT30::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual size_t unit::UnitSHT30::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual bool unit::UnitSHT30::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual bool unit::UnitSHT30::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual void unit::UnitSHT30::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual void unit::UnitSHT30::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<qmp6988::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:25,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<qmp6988::Data>> _data{};
                                                                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In constructor 'unit::UnitQMP6988::UnitQMP6988(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<qmp6988::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:25,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<qmp6988::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'unit::qmp6988::Data unit::UnitQMP6988::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'unit::qmp6988::Data unit::UnitQMP6988::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual size_t unit::UnitQMP6988::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual bool unit::UnitQMP6988::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual bool unit::UnitQMP6988::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual void unit::UnitQMP6988::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual void unit::UnitQMP6988::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV3.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV3.hpp:18:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:28,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:16:17: note: #pragma message: Using BSEC2
 #pragma message "Using BSEC2"
                 ^~~~~~~~~~~~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:41:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'void unit::bme688::GasWait::factor(unit::bme688::GasWait::Factor)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:174:43: note: in expansion of macro 'm5'
         value = (value & ~(0x03 << 6)) | (m5::stl::to_underlying(f) << 6);
                                           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<bme688::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:28,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<bme688::Data>> _data{};
                                                               ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: error: template argument 2 is invalid
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'unit::bme688::Data unit::UnitBME688::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'unit::bme688::Data unit::UnitBME688::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual size_t unit::UnitBME688::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual bool unit::UnitBME688::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual bool unit::UnitBME688::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual void unit::UnitBME688::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual void unit::UnitBME688::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sgp30::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:30,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sgp30::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In constructor 'unit::UnitSGP30::UnitSGP30(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sgp30::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:30,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sgp30::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'unit::sgp30::Data unit::UnitSGP30::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'unit::sgp30::Data unit::UnitSGP30::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual size_t unit::UnitSGP30::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual bool unit::UnitSGP30::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual bool unit::UnitSGP30::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual void unit::UnitSGP30::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual void unit::UnitSGP30::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sht40::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:32,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sht40::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In constructor 'unit::UnitSHT40::UnitSHT40(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sht40::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:32,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sht40::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'unit::sht40::Data unit::UnitSHT40::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'unit::sht40::Data unit::UnitSHT40::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual size_t unit::UnitSHT40::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual bool unit::UnitSHT40::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual bool unit::UnitSHT40::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual void unit::UnitSHT40::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual void unit::UnitSHT40::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<bmp280::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:33,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<bmp280::Data>> _data{};
                                                               ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In constructor 'unit::UnitBMP280::UnitBMP280(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<bmp280::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:33,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<bmp280::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'unit::bmp280::Data unit::UnitBMP280::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'unit::bmp280::Data unit::UnitBMP280::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual size_t unit::UnitBMP280::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual bool unit::UnitBMP280::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual bool unit::UnitBMP280::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual void unit::UnitBMP280::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual void unit::UnitBMP280::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV4.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV4.hpp:18:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:40:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:48:20: note: in expansion of macro 'm5'
 using UnitCO2    = m5::unit::UnitSCD40;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:49:20: note: in expansion of macro 'm5'
 using UnitCO2L   = m5::unit::UnitSCD41;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:50:20: note: in expansion of macro 'm5'
 using UnitENVPro = m5::unit::UnitBME688;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:51:20: note: in expansion of macro 'm5'
 using UnitTVOC   = m5::unit::UnitSGP30;
                    ^~
C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino: In function 'void loop()':
C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:48:9: error: 'Wire2' was not declared in this scope
         Wire2.beginTransmission(
         ^~~~~
C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:48:9: note: suggested alternative: 'Wire1'
         Wire2.beginTransmission(
         ^~~~~
         Wire1
Multiple libraries were found for "SD.h"
  Used: C:\Users\Mortadella\AppData\Local\Arduino15\packages\m5stack\hardware\esp32\2.1.4\libraries\SD
  Not used: C:\Users\Mortadella\AppData\Local\Arduino15\libraries\SD
exit status 1

Compilation error: 'Wire2' was not declared in this scope

**助手：** 根据你提供的错误信息，代码在编译过程中出现了多个问题，下面为你逐一分析并给出解决建议：

### 1. `'M5' does not name a type` 错误
这个错误通常是由于宏定义冲突或者头文件包含顺序问题导致的。在你的代码里，`#define m5  M5` 引发了命名冲突，因为 `M5` 既被定义成了一个对象（`extern M5Core2 M5;`），又被用作命名空间。

**解决办法**：
要保证头文件包含顺序正确，并且避免宏定义冲突。你可以检查头文件，确保没有重复定义或者冲突的宏。

### 2. `'Wire2' was not declared in this scope` 错误
这个错误表明在代码里使用了 `Wire2`，但它并未被声明。`Wire2` 一般用于 ESP32 的第二个 I2C 总线，不过需要在代码里显式声明。

**解决办法**：
在代码开头添加 `Wire2` 的声明：
```cpp
#include <Wire.h>
// 其他头文件

// 声明 Wire2
TwoWire Wire2(2);

void setup() {
    // 初始化代码
    Wire2.begin(SDA2, SCL2); // 根据实际情况设置 SDA2 和 SCL2 的引脚
}

void loop() {
    // 主循环代码
    Wire2.beginTransmission(/* 设备地址 */);
    // 其他操作
}
```

### 3. 模板参数错误
错误信息里有很多模板参数错误，这通常是因为类型不匹配或者命名空间问题造成的。

**解决办法**：
检查模板参数，确保类型正确。同时，要保证命名空间使用正确。

### 示例代码修正
下面是一个简单的修正示例，假设你使用的是 M5Core2 并且要使用第二个 I2C 总线：

```cpp
#include <M5Core2.h>
#include <Wire.h>

// 声明 Wire2
TwoWire Wire2(2);

void setup() {
    M5.begin();
    Wire2.begin(21, 22); // 根据实际情况设置 SDA2 和 SCL2 的引脚
}

void loop() {
    Wire2.beginTransmission(/* 设备地址 */);
    // 其他操作
    Wire2.endTransmission();

    delay(1000);
}
```

### 建议问题
[SQ] 如何检查头文件包含顺序是否正确？[/SQ]
[SQ] 不同的 I2C 总线在使用上有什么区别？[/SQ]
[SQ] 如何避免宏定义冲突？[/SQ]

**用户：** does the core 2 have a wire2?

**助手：** Yes, the M5Stack Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) is equipped with an ESP32-D0WDQ6-V3 chip, which supports multiple I2C interfaces. This means you can use the Wire2 interface on the Core2.

The ESP32 chip on the Core2 has two I2C interfaces (Wire and Wire2), which allows you to connect multiple I2C devices simultaneously. You can use these interfaces to communicate with various sensors, displays, and other I2C-compatible modules.

Here is a simple example code demonstrating how to use Wire2 to communicate with an I2C device:

```cpp
#include <Wire.h>

// Define Wire2
TwoWire Wire2(2);

void setup() {
  Serial.begin(115200);
  
  // Initialize Wire2
  Wire2.begin(21, 22); // SDA = 21, SCL = 22, adjust according to your actual situation
  
  // You can add code here to initialize your I2C device
}

void loop() {
  // Example: Read data from an I2C device
  Wire2.beginTransmission(/* Device address */);
  Wire2.write(/* Register address */);
  Wire2.endTransmission(false);
  
  Wire2.requestFrom(/* Device address */, /* Number of bytes to read */);
  
  if (Wire2.available()) {
    byte data = Wire2.read();
    Serial.print("Read data: ");
    Serial.println(data);
  }
  
  delay(1000);
}
```

### Suggested Questions
[SQ] How can I determine the correct SDA and SCL pins for Wire2? [/SQ]
[SQ] What should I do if there is an I2C address conflict when using multiple devices? [/SQ]
[SQ] Are there any limitations to using Wire2 on the Core2? [/SQ]

**用户：** so i can use wire wire1 and wire2?

**助手：** The reference materials do not provide information on right - justifying text in UIFlow 2. However, in general Python programming (which UIFlow 2 is based on), you can use string formatting methods to right - justify text.

For example, if you want to right - justify a string within a certain width, you can use the following code:
```python
text = "Hello"
width = 10
right_justified_text = text.rjust(width)
print(right_justified_text)
```
In this code, the `rjust` method is used to right - justify the `text` string within a width of `10` characters.

[SQ] Is there a specific block in UIFlow 2 for text alignment?[/SQ]
[SQ] Can I adjust the right - justification width dynamically in UIFlow 2?[/SQ]

**用户：** so i can use wire wire1 and wire2 to control the i2c bus?

**助手：** Yes, you can use `Wire`, `Wire1`, and `Wire2` to control the I2C bus on M5Stack devices equipped with the ESP32 chip, such as the Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)). The ESP32 chip supports multiple I2C interfaces, allowing you to connect multiple I2C devices simultaneously.

Here are some points to note:
- **Initialization**: You need to initialize the I2C interface before using it. For example, to initialize `Wire2`, you can use the following code:
```cpp
#include <Wire.h>

// Declare Wire2
TwoWire Wire2(2);

void setup() {
    // Initialize Wire2, specify SDA and SCL pins according to your device
    Wire2.begin(SDA_PIN, SCL_PIN); 
}

void loop() {
    // Main loop code
}
```
- **Device Address**: Each I2C device has a unique address. You need to know the address of the device you want to communicate with and use this address for communication.
- **Communication Protocol**: Ensure that the communication protocol used by the device you are connecting to is compatible with the I2C protocol.

### Suggested Questions
[SQ] How can I determine the correct SDA and SCL pins for Wire2?[/SQ]
[SQ] What should I do if there is an I2C address conflict when using multiple devices?[/SQ]
[SQ] Are there any limitations to using multiple I2C interfaces simultaneously?[/SQ]

**用户：** ~                 ^
                              )
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:76:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t generalCall(const uint8_t* data, const size_t len);
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:81:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t readWithTransaction(uint8_t* data, const size_t len)
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:86:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint8_t* data, const size_t len, const bool stop = true)
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:91:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint8_t reg, const uint8_t* data, const size_t len,
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:97:12: note: in expansion of macro 'm5'
     inline m5::hal::error::error_t writeWithTransaction(const uint16_t reg, const uint8_t* data, const size_t len,
            ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:182:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t readWithTransaction(uint8_t*, const size_t)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:186:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:190:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint8_t, const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:194:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t writeWithTransaction(const uint16_t, const uint8_t*, const size_t, const bool)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/m5_unit_component/adapter.hpp:199:17: note: in expansion of macro 'm5'
         virtual m5::hal::error::error_t generalCall(const uint8_t*, const size_t)
                 ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:24:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:31:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:197:25: note: in expansion of macro 'm5'
     virtual bool assign(m5::hal::bus::Bus* bus);
                         ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:197:42: error: expected ',' or '...' before '*' token
     virtual bool assign(m5::hal::bus::Bus* bus);
                                          ^
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:305:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t readWithTransaction(uint8_t* data, const size_t len);
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:349:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t writeWithTransaction(const uint8_t* data, const size_t len, const bool stop = true);
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:354:5: note: in expansion of macro 'm5'
     m5::hal::error::error_t writeWithTransaction(const Reg reg, const uint8_t* data, const size_t len,
     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:491:20: note: in expansion of macro 'm5'
     inline virtual m5::hal::error::error_t select_channel(const uint8_t)
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::unit::Adapter> _adapter{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::unit::Adapter> _adapter{};
                                      ^
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:530:38: error: template argument 2 is invalid
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp: In member function 'unit::Adapter* unit::Component::adapter() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:160:25: error: request for member 'get' in '((const unit::Component*)this)->unit::Component::_adapter', which is of non-class type 'const int'
         return _adapter.get();
                         ^~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:30:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:28: note: in expansion of macro 'm5'
     bool add(Component& u, m5::hal::bus::Bus* bus);
                            ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:45: error: expected ',' or '...' before '*' token
     bool add(Component& u, m5::hal::bus::Bus* bus);
                                             ^
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:28: note: in expansion of macro 'm5'
     bool add(Component& u, m5::unit::Adapter* a);
                            ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:45: error: expected ',' or '...' before '*' token
     bool add(Component& u, m5::unit::Adapter* a);
                                             ^
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:81:10: error: 'bool unit::UnitUnified::add(unit::Component&, int)' cannot be overloaded with 'bool unit::UnitUnified::add(unit::Component&, int)'
     bool add(Component& u, m5::unit::Adapter* a);
          ^~~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:65:10: note: previous declaration 'bool unit::UnitUnified::add(unit::Component&, int)'
     bool add(Component& u, m5::hal::bus::Bus* bus);
          ^~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<scd4x::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:21,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<scd4x::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:350:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In constructor 'unit::UnitSCD40::UnitSCD40(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<scd4x::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:21,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<scd4x::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp:99:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'unit::scd4x::Data unit::UnitSCD40::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'unit::scd4x::Data unit::UnitSCD40::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual size_t unit::UnitSCD40::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual bool unit::UnitSCD40::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual bool unit::UnitSCD40::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual void unit::UnitSCD40::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD40.hpp: In member function 'virtual void unit::UnitSCD40::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD41.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SCD41.hpp:15:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sht30::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:24,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sht30::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:305:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In constructor 'unit::UnitSHT30::UnitSHT30(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sht30::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:24,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sht30::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp:131:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'unit::sht30::Data unit::UnitSHT30::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'unit::sht30::Data unit::UnitSHT30::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual size_t unit::UnitSHT30::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual bool unit::UnitSHT30::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual bool unit::UnitSHT30::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual void unit::UnitSHT30::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT30.hpp: In member function 'virtual void unit::UnitSHT30::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<qmp6988::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:25,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<qmp6988::Data>> _data{};
                                                                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:363:64: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In constructor 'unit::UnitQMP6988::UnitQMP6988(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<qmp6988::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:25,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<qmp6988::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp:153:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'unit::qmp6988::Data unit::UnitQMP6988::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'unit::qmp6988::Data unit::UnitQMP6988::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual size_t unit::UnitQMP6988::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual bool unit::UnitQMP6988::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual bool unit::UnitQMP6988::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual void unit::UnitQMP6988::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_QMP6988.hpp: In member function 'virtual void unit::UnitQMP6988::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV3.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV3.hpp:18:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:28,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:16:17: note: #pragma message: Using BSEC2
 #pragma message "Using BSEC2"
                 ^~~~~~~~~~~~~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:41:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'void unit::bme688::GasWait::factor(unit::bme688::GasWait::Factor)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' is not a class, namespace, or enumeration
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:174:43: note: in expansion of macro 'm5'
         value = (value & ~(0x03 << 6)) | (m5::stl::to_underlying(f) << 6);
                                           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<bme688::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:28,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<bme688::Data>> _data{};
                                                               ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp:939:63: error: template argument 2 is invalid
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'unit::bme688::Data unit::UnitBME688::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'unit::bme688::Data unit::UnitBME688::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual size_t unit::UnitBME688::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual bool unit::UnitBME688::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual bool unit::UnitBME688::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual void unit::UnitBME688::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BME688.hpp: In member function 'virtual void unit::UnitBME688::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sgp30::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:30,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sgp30::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:335:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In constructor 'unit::UnitSGP30::UnitSGP30(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sgp30::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:30,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sgp30::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp:110:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'unit::sgp30::Data unit::UnitSGP30::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'unit::sgp30::Data unit::UnitSGP30::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual size_t unit::UnitSGP30::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual bool unit::UnitSGP30::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual bool unit::UnitSGP30::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual void unit::UnitSGP30::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SGP30.hpp: In member function 'virtual void unit::UnitSGP30::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<sht40::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:32,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<sht40::Data>> _data{};
                                                              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:231:62: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In constructor 'unit::UnitSHT40::UnitSHT40(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<sht40::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:32,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<sht40::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp:90:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'unit::sht40::Data unit::UnitSHT40::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'unit::sht40::Data unit::UnitSHT40::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual size_t unit::UnitSHT40::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual bool unit::UnitSHT40::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual bool unit::UnitSHT40::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual void unit::UnitSHT40::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_SHT40.hpp: In member function 'virtual void unit::UnitSHT40::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:17:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: the value of 'M5' is not usable in a constant expression
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:21: note: in expansion of macro 'm5'
     std::unique_ptr<m5::container::CircularBuffer<bmp280::Data>> _data{};
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: 'M5' was not declared 'constexpr'
 extern M5Core2 M5;
                ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:33,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: error: type/value mismatch at argument 1 in template parameter list for 'template<class _Tp, class _Dp> class std::unique_ptr'
     std::unique_ptr<m5::container::CircularBuffer<bmp280::Data>> _data{};
                                                               ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: note:   expected a type, got 'M5'
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:386:63: error: template argument 2 is invalid
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In constructor 'unit::UnitBMP280::UnitBMP280(uint8_t)':
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:38: note: in expansion of macro 'm5'
         : Component(addr), _data{new m5::container::CircularBuffer<bmp280::Data>(1)}
                                      ^~
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:33,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:21:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: expected '}' before '::' token
         : Component(addr), _data{new m5::container::CircularBuffer<bmp280::Data>(1)}
                                 ~      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: cannot convert '<brace-enclosed initializer list>' to 'int' in initialization
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp:172:40: error: expected '{' before '::' token
In file included from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.hpp:19,
                 from c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitUnified.h:13,
                 from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:20:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'unit::bmp280::Data unit::UnitBMP280::oldest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:687:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->front().value() : md{};                \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'unit::bmp280::Data unit::UnitBMP280::latest_periodic_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:22: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                      ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: error: base operand of '->' is not a pointer
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:691:39: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return !_data->empty() ? _data->back().value() : md{};                 \
                                       ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual size_t unit::UnitBMP280::available_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: error: base operand of '->' is not a pointer
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:695:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->size();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual bool unit::UnitBMP280::empty_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: error: base operand of '->' is not a pointer
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:699:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->empty();                                                 \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual bool unit::UnitBMP280::full_periodic_measurement_data() const':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: error: base operand of '->' is not a pointer
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:703:21: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         return _data->full();                                                  \
                     ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual void unit::UnitBMP280::discard_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: error: base operand of '->' is not a pointer
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:707:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->pop_front();                                                    \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_BMP280.hpp: In member function 'virtual void unit::UnitBMP280::flush_periodic_measurement_data()':
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: error: base operand of '->' is not a pointer
         _data->clear();                                                        \
              ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5UnitUnified\src/M5UnitComponent.hpp:711:14: note: in definition of macro 'M5_UNIT_COMPONENT_PERIODIC_MEASUREMENT_ADAPTER_HPP_BUILDER'
         _data->clear();                                                        \
              ^~
In file included from C:\Users\Mortadella\AppData\Local\Temp\.arduinoIDE-unsaved202553-18672-15dgjo4.p2bm\I2C_Tester\I2C_Tester.ino:17:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV4.hpp: At global scope:
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/unit/unit_ENV4.hpp:18:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'namespace M5 { }' redeclared as different kind of symbol
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:40:11: note: in expansion of macro 'm5'
 namespace m5 {
           ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:79:16: note: previous declaration 'M5Core2 M5'
 extern M5Core2 M5;
                ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:48:20: note: in expansion of macro 'm5'
 using UnitCO2    = m5::unit::UnitSCD40;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:49:20: note: in expansion of macro 'm5'
 using UnitCO2L   = m5::unit::UnitSCD41;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:50:20: note: in expansion of macro 'm5'
 using UnitENVPro = m5::unit::UnitBME688;
                    ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Core2\src/M5Core2.h:80:13: error: 'M5' does not name a type
 #define m5  M5
             ^~
c:\Users\Mortadella\Documents\Arduino\libraries\M5Unit-ENV\src/M5UnitUnifiedENV.hpp:51:20: note: in expansion of macro 'm5'
 using UnitTVOC   = m5::unit::UnitSGP30;
                    ^~
Multiple libraries were found for "SD.h"
  Used: C:\Users\Mortadella\AppData\Local\Arduino15\packages\m5stack\hardware\esp32\2.1.4\libraries\SD
  Not used: C:\Users\Mortadella\AppData\Local\Arduino15\libraries\SD
exit status 1

Compilation error: exit status 1

**助手：** The compilation error you're encountering is related to the conflict of the `M5` symbol when using the `M5Unified` library. This issue typically occurs when you try to combine the existing M5Stack main control driver library with `M5Unified`.

### Reason for the error
The error messages indicate that the compiler is confused about the definition of `M5`. The `M5Unified` library and the old M5Stack library might have conflicting definitions of the `M5` object, leading to compilation errors.

### Solution
If you want to use the `M5Unified` library, you need to migrate your code to the `M5Unified` style. Here are the general steps:

1. **Update header files**: Replace the old `#include <M5Stack.h>` with `#include <M5Unified.h>`.
2. **Modify the initialization code**: Update the `M5.begin()` function call to use the configuration structure.
3. **Update the API usage**: Some functions and APIs might have changed in the `M5Unified` library, so you need to update your code accordingly.

Here is an example of migrating an existing M5Stack code to `M5Unified`:

```cpp
#include <Arduino.h>
// Replace #include <M5Stack.h> with #include <M5Unified.h>
#include <M5Unified.h>

void setup() {
    // Create a configuration structure
    auto cfg = M5.config();
    // Initialize M5Stack with the configuration
    M5.begin(cfg);

    // Other initialization code...
}

void loop() {
    // Update the button state
    M5.update();

    // Other loop code...
}
```

### Suggested Questions
[SQ] How can I migrate all my existing M5Stack code to M5Unified?[/SQ]
[SQ] Are there any performance differences between M5Stack and M5Unified?[/SQ]
[SQ] Can I use M5Unified with other M5Stack modules?[/SQ]

**用户：** Are there any performance differences between M5Stack and M5Unified?

**助手：** The reference materials do not directly mention performance differences between M5Stack and M5Unified. However, M5Unified is a driver library for M5Stack main control devices, which provides a unified API and is designed to improve development efficiency. Here are some possible aspects of performance differences inferred from their characteristics:

### 1. Initialization and Configuration
- **M5Stack**: In the early M5Stack driver library, `M5.begin()` had different contents and parameter numbers for each device. For example, different devices like M5Stack, M5Core2, M5StickC, etc., had different parameter settings in `M5.begin()`. This could lead to more complex initialization processes and potential inefficiencies in code maintenance.
- **M5Unified**: It uses a structure as a parameter for `M5.begin()`, which simplifies the initialization process. Developers can pass in different configuration information through the structure, making the code more modular and easier to manage. This may reduce the initialization time and improve the overall efficiency of the system startup.

### 2. Resource Utilization
- **M5Stack**: The old library might have some redundant code or resource usage patterns due to the lack of a unified standard for different devices. For example, some functions might be implemented differently on various devices, leading to inconsistent resource consumption.
- **M5Unified**: By providing a unified API, M5Unified can optimize resource utilization across different M5Stack devices. It can better manage system resources such as memory, I/O, and processing power, potentially leading to more efficient resource usage and better performance.

### 3. Compatibility and Portability
- **M5Stack**: When developing applications for different M5Stack devices using the old library, developers may need to write different code for each device, which can be time - consuming and error - prone. This lack of portability can also affect the overall development efficiency and performance of the application.
- **M5Unified**: With a unified API, the same set of programs can run on different M5Stack devices very conveniently. This improves the compatibility and portability of the code, reducing the development time and effort required for device adaptation and potentially enhancing the overall performance of the application across different devices.

### Suggested Questions
[SQ] How can I measure the performance difference between M5Stack and M5Unified in my specific application?[/SQ]
[SQ] Are there any specific scenarios where M5Unified shows significant performance advantages over M5Stack?[/SQ]
[SQ] Does M5Unified have any performance limitations compared to M5Stack in certain edge cases?[/SQ]

**用户：** quali sono le porte del core 2 con extport al quale posso attaccare sensori i2c

**助手：** Per il Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)), puoi utilizzare le seguenti porte per collegare sensori I2C:

### 1. Porta A
La porta A (colore rosso) è già configurata per l'uso I2C. I pin associati sono G32 e G33.

### 2. Porte esterne con Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123))
- **PORT.D**: I pin di default sono G35 e G34. Tuttavia, puoi configurare questi pin tramite gli interruttori a cannone. Puoi selezionare G21 (SDA interno) e G22 (SCL interno) se necessario.
- **PORT.E**: I pin di default sono G19 e G27. Anch'essi possono essere configurati tramite gli interruttori a cannone.

#### Configurazione degli interruttori a cannone
Prima di modificare la configurazione degli interruttori a cannone, assicurati di disconnettere la tensione per evitare danni all'hardware. Dopo aver impostato gli interruttori, ricollega la tensione e puoi continuare a usare il modulo.

### Suggerimenti per ulteriori domande
[SQ] Come posso configurare correttamente gli interruttori a cannone per il Module ExtPort For Core2?[/SQ]
[SQ] Quali sono i limiti di frequenza I2C supportati dal Core2?[/SQ]
[SQ] Posso usare più sensori I2C contemporaneamente sulla stessa porta?[/SQ]

**用户：** a quali pin devo configurare la porta e per collare un sensore i2c e come devo programmarlo su arduino

**助手：** Per collegare un sensore I2C alla porta E del Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)), puoi utilizzare i pin di default G19 e G27. Tuttavia, puoi configurare questi pin tramite gli interruttori a cannone. Puoi selezionare G21 (SDA interno) e G22 (SCL interno) se necessario.

### Configurazione degli interruttori a cannone
Prima di modificare la configurazione degli interruttori a cannone, assicurati di disconnettere la tensione per evitare danni all'hardware. Dopo aver impostato gli interruttori, ricollega la tensione e puoi continuare a usare il modulo.

### Programmazione su Arduino
Per programmare il Core2 per leggere i dati dal sensore I2C, puoi utilizzare la seguente procedura:

1. **Includi le librerie necessarie**:
```cpp
#include <Wire.h>
#include <M5Stack.h>
```

2. **Inizializza l'I2C**:
```cpp
void setup() {
  M5.begin();
  Wire.begin(21, 22); // Inizializza l'I2C con i pin SDA (21) e SCL (22)
  Serial.begin(115200); // Inizializza la comunicazione seriale
}
```

3. **Leggi i dati dal sensore I2C**:
```cpp
void loop() {
  Wire.beginTransmission(0xXX); // Indirizzo I2C del sensore
  Wire.write(0xYY); // Registrazione del sensore da leggere
  Wire.endTransmission(false);

  Wire.requestFrom(0xXX, 1); // Richiedi 1 byte dal sensore
  if (Wire.available()) {
    byte data = Wire.read(); // Leggi il byte ricevuto
    Serial.println(data); // Stampa il dato sulla seriale
  }

  delay(1000); // Attendi 1 secondo prima di leggere nuovamente
}
```

### Suggerimenti per ulteriori domande
[SQ] Come posso configurare correttamente gli interruttori a cannone per il Module ExtPort For Core2?[/SQ]
[SQ] Quali sono i limiti di frequenza I2C supportati dal Core2?[/SQ]
[SQ] Posso usare più sensori I2C contemporaneamente sulla stessa porta?[/SQ]

**用户：** i pin 21 e 22 non sono della porta d?

**助手：** Sì, i pin GPIO21 e GPIO22 possono essere configurati per la porta D del modulo Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123)) tramite gli interruttori a cannone. Di default, la porta D utilizza i pin G35 e G34, ma puoi cambiarli in G21 (SDA interno) e G22 (SCL interno).

Ecco come configurare gli interruttori a cannone:
1. **Disconnetti la tensione**: Prima di modificare la configurazione degli interruttori a cannone, assicurati di disconnettere la tensione per evitare danni all'hardware.
2. **Imposta gli interruttori a cannone**: Imposta gli interruttori a cannone in modo da selezionare i pin G21 e G22 per la porta D.
3. **Riconnetti la tensione**: Dopo aver impostato gli interruttori, ricollega la tensione e puoi continuare a usare il modulo.

### Suggerimenti per ulteriori domande
[SQ] Come posso verificare se la configurazione degli interruttori a cannone è corretta?[/SQ]
[SQ] Quali sono gli altri pin che posso configurare tramite gli interruttori a cannone?[/SQ]
[SQ] Posso usare la porta D e la porta E contemporaneamente con la stessa configurazione I2C?[/SQ]

**用户：** a quali pin devo configurare la porta e per collare un sensore i2c

**助手：** Per collegare un sensore I2C alla porta E del Core2 con il Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123)), puoi configurare i pin in base alle tue esigenze. Di default, la porta E utilizza i pin G19 (rosso) e G27 (bianco). Tuttavia, puoi cambiare i pin tramite gli interruttori a cannone.

I pin selezionabili per la porta E sono i seguenti:
- **PortE1 (bianco)**: Puoi selezionare G27 (default), G2 o G0.
- **PortE2 (rosso)**: Puoi selezionare G19 (default), G25 o G2.

### Configurazione degli interruttori a cannone
Prima di modificare la configurazione degli interruttori a cannone, assicurati di disconnettere la tensione per evitare danni all'hardware. Dopo aver impostato gli interruttori, ricollega la tensione e puoi continuare a usare il modulo.

### Suggerimenti per ulteriori domande
[SQ] Come posso configurare correttamente gli interruttori a cannone per la porta E?[/SQ]
[SQ] Quali sono i limiti di frequenza I2C supportati dalla porta E?[/SQ]
[SQ] Posso usare più sensori I2C contemporaneamente sulla porta E?[/SQ]

**用户：** dammi un codice di i2c scanning per la porta e

**助手：** Per eseguire uno scanning I2C sulla porta E del Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123)), puoi utilizzare il seguente codice in MicroPython:

```python
from machine import Pin, I2C
import time

# Configura l'I2C sulla porta E
# Di default, PortE1 (bianco) è G27 e PortE2 (rosso) è G19
scl = Pin(27)
sda = Pin(19)
i2c = I2C(scl=scl, sda=sda, freq=100000)

print('Scanning I2C bus...')
devices = i2c.scan()

if len(devices) == 0:
    print("Nessun dispositivo I2C trovato.")
else:
    print('Dispositivi I2C trovati:', len(devices))
    for device in devices:
        print("Indirizzo I2C:", hex(device))

```

### Spiegazione del codice
1. **Importazione delle librerie**: Importiamo le librerie `Pin` e `I2C` dal modulo `machine` e la libreria `time` per gestire i ritardi.
2. **Configurazione dell'I2C**: Configuriamo l'I2C sulla porta E utilizzando i pin `G27` (SCL) e `G19` (SDA) con una frequenza di 100 kHz.
3. **Scanning dell'I2C**: Eseguiamo uno scanning dell'I2C utilizzando il metodo `scan()` e salviamo i dispositivi trovati nella lista `devices`.
4. **Stampa dei risultati**: Stampiamo il numero di dispositivi trovati e l'indirizzo I2C di ogni dispositivo.

### Suggerimenti per ulteriori domande
[SQ] Come posso modificare il codice per utilizzare altri pin per l'I2C?[/SQ]
[SQ] Quali sono le frequenze I2C supportate dal Core2?[/SQ]
[SQ] Posso eseguire lo scanning I2C su più porte contemporaneamente?[/SQ]

**用户：** dammi il codice in arduino

**助手：** Ecco il codice in Arduino per eseguire uno scanning I2C sulla porta E del Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123)). Di default, la porta E utilizza i pin `G19` (SCL) e `G27` (SDA).

```cpp
#include <Wire.h>

void setup() {
  Serial.begin(115200);
  Wire.begin(27, 19); // Inizializza l'I2C con SDA = 27 e SCL = 19
  Serial.println("\nScanning I2C bus...");
  byte error, address;
  int nDevices;

  nDevices = 0;
  for (address = 1; address < 127; address++ ) {
    Wire.beginTransmission(address);
    error = Wire.endTransmission();

    if (error == 0) {
      Serial.print("Dispositivo I2C trovato all'indirizzo 0x");
      if (address < 16) {
        Serial.print("0");
      }
      Serial.println(address, HEX);
      nDevices++;
    } else if (error == 4) {
      Serial.print("Errore sconosciuto all'indirizzo 0x");
      if (address < 16) {
        Serial.print("0");
      }
      Serial.println(address, HEX);
    }
  }
  if (nDevices == 0) {
    Serial.println("Nessun dispositivo I2C trovato.\n");
  } else {
    Serial.println("Scansione completata.\n");
  }
}

void loop() {
  // Non è necessario eseguire alcuna azione nel loop
}
```

### Spiegazione del codice
1. **Importazione della libreria**: Importiamo la libreria `Wire.h` per gestire la comunicazione I2C.
2. **Inizializzazione della seriale**: Inizializziamo la comunicazione seriale con una velocità di 115200 baud.
3. **Inizializzazione dell'I2C**: Inizializziamo l'I2C utilizzando i pin `G27` (SDA) e `G19` (SCL).
4. **Scanning dell'I2C**: Eseguiamo uno scanning dell'I2C su tutti gli indirizzi possibili (da 1 a 127) e stampiamo l'indirizzo di ogni dispositivo trovato.
5. **Loop**: Non è necessario eseguire alcuna azione nel loop, quindi lasciamo il loop vuoto.

### Suggerimenti per ulteriori domande
[SQ] Come posso modificare il codice per utilizzare altri pin per l'I2C?[/SQ]
[SQ] Quali sono le frequenze I2C supportate dal Core2?[/SQ]
[SQ] Posso eseguire lo scanning I2C su più porte contemporaneamente?[/SQ]

**用户：** modifica il codice in modo che scannerizza il bus i2c in infinito

**助手：** Per modificare il codice in modo che scannerizzi il bus I2C in modo infinito, puoi inserire il codice di scanning all'interno di un ciclo `while(true)` nel loop principale. Ecco il codice modificato:

```cpp
#include <Wire.h>

void setup() {
  Serial.begin(115200);
  Wire.begin(27, 19); // Inizializza l'I2C con SDA = 27 e SCL = 19
  Serial.println("\nScanning I2C bus...");
}

void loop() {
  byte error, address;
  int nDevices;

  nDevices = 0;
  for (address = 1; address < 127; address++ ) {
    Wire.beginTransmission(address);
    error = Wire.endTransmission();

    if (error == 0) {
      Serial.print("Dispositivo I2C trovato all'indirizzo 0x");
      if (address < 16) {
        Serial.print("0");
      }
      Serial.println(address, HEX);
      nDevices++;
    } else if (error == 4) {
      Serial.print("Errore sconosciuto all'indirizzo 0x");
      if (address < 16) {
        Serial.print("0");
      }
      Serial.println(address, HEX);
    }
  }
  if (nDevices == 0) {
    Serial.println("Nessun dispositivo I2C trovato.\n");
  } else {
    Serial.println("Scansione completata.\n");
  }

  delay(1000); // Aggiunge un ritardo di 1 secondo tra le scansioni consecutive
}

```

### Spiegazione del codice modificato
1. **Setup**: Inizializza la comunicazione seriale e l'I2C sulla porta E utilizzando i pin `G27` (SDA) e `G19` (SCL).
2. **Loop**:
    - Esegue uno scanning dell'I2C su tutti gli indirizzi possibili (da 1 a 127) e stampa l'indirizzo di ogni dispositivo trovato.
    - Se nessun dispositivo viene trovato, stampa un messaggio di errore.
    - Aggiunge un ritardo di 1 secondo tra le scansioni consecutive utilizzando la funzione `delay(1000)`.

### Suggerimenti per ulteriori domande
[SQ] Come posso modificare il ritardo tra le scansioni consecutive?[/SQ]
[SQ] Posso eseguire lo scanning I2C su più porte contemporaneamente?[/SQ]
[SQ] Quali sono i limiti di frequenza I2C supportati dal Core2?[/SQ]

**用户：** perche ogni volta che individua un sensore ha un indirizzo diverso?

**助手：** In genere, un sensore I2C dovrebbe avere un indirizzo fisso e non dovrebbe cambiare ad ogni scansione. Tuttavia, se stai osservando un cambiamento di indirizzo ad ogni scansione, potrebbero essere presenti alcuni problemi:

### 1. Problemi di connessione
- **Collegamento errato**: Se i fili SDA (Data) o SCL (Clock) dell'I2C sono mal collegati o danneggiati, potrebbe causare errori nella comunicazione I2C e far sembrare che l'indirizzo del sensore cambi. Assicurati che i fili siano correttamente collegati al modulo `Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123))` e al sensore.
- **Interferenze**: Le interferenze elettriche possono influenzare la comunicazione I2C e causare errori nell'individuazione dell'indirizzo del sensore. Assicurati che i cavi siano correttamente schermati e che non ci siano fonti di interferenza nelle vicinanze.

### 2. Problemi di alimentazione
- **Tensione instabile**: Se la tensione di alimentazione del sensore o del modulo `Module ExtPort For Core2` è instabile, potrebbe causare errori nella comunicazione I2C e far sembrare che l'indirizzo del sensore cambi. Assicurati che la tensione di alimentazione sia stabile e all'interno dei limiti specificati dal sensore e dal modulo.

### 3. Problemi di configurazione
- **Impostazione errata dell'indirizzo**: Alcuni sensori I2C consentono di configurare l'indirizzo tramite dei pin di configurazione. Se questi pin sono impostati in modo errato, potrebbe causare un cambiamento apparentemente casuale dell'indirizzo. Verifica la documentazione del sensore per assicurarti che l'indirizzo sia configurato correttamente.
- **Utilizzo di switch di configurazione**: Il `Module ExtPort For Core2` dispone di switch di configurazione per i pin delle porte D ed E. Se questi switch sono impostati in modo errato, potrebbe causare problemi nella comunicazione I2C e far sembrare che l'indirizzo del sensore cambi. Assicurati che i switch siano impostati correttamente in base alle tue esigenze.

### 4. Problemi di sensore
- **Danneggiamento del sensore**: Se il sensore è danneggiato, potrebbe causare errori nella comunicazione I2C e far sembrare che l'indirizzo del sensore cambi. Prova a sostituire il sensore con uno nuovo per verificare se il problema persiste.

### Suggerimenti per ulteriori domande
[SQ] Come posso verificare se ci sono problemi di connessione?[/SQ]
[SQ] Quali sono i limiti di tensione di alimentazione del Module ExtPort For Core2 e del sensore?[/SQ]
[SQ] Come posso configurare correttamente i switch di configurazione del Module ExtPort For Core2?[/SQ]

**用户：** /*
*******************************************************************************
* Copyright (c) 2021 by M5Stack
*                  Equipped with M5Core2 sample source code
*                          配套  M5Core2 示例源代码
* Visit for more information: https://docs.m5stack.com/en/core/core2
* 获取更多资料请访问: https://docs.m5stack.com/zh_CN/core/core2
*
* Describe: I2C Scanner.  I2C探测
* Date: 2021/7/26
*******************************************************************************
*/
/*
This program scans the addresses 1-127 continuosly and shows the devices found
on the TFT. 该程序连续扫描地址 1-127 并显示在外部(内部)I2C发现的设备。
*/
#include <M5Core2.h>

void setup() {
    M5.begin(true, true, true,
             true);  // Init M5Core2(Initialization of external I2C is also
                     // included).  初始化M5Core2(初始化外部I2C也包含在内)
    // Wire.begin(21, 22); //Detect internal I2C, if this sentence is not added,
    // it will detect external I2C.  检测内部I2C,若不加此句为检测外部I2C
    Wire.begin(19,27);
    M5.Lcd.setTextColor(
        YELLOW);  // Set the font color to yellow.  设置字体颜色为黄色
    M5.Lcd.setTextSize(2);  // Set the font size to 2.  设置字体大小为2
    M5.Lcd.println("M5Core2 I2C Tester");  // Print a string on the screen.
                                           // 在屏幕上打印字符串
    delay(3000);
    M5.Lcd.fillScreen(
        BLACK);  // Make the screen full of black (equivalent to clear() to
                 // clear the screen).  使屏幕充满黑色(等效clear()清屏)
}

int textColor = YELLOW;

void loop() {
    int address;
    int error;
    M5.Lcd.setCursor(0, 0);
    M5.Lcd.println("scanning Address [HEX]");
    for (address = 1; address < 127; address++) {
        Wire.beginTransmission(
            address);  // Data transmission to the specified device address
                       // starts.   开始向指定的设备地址进行传输数据
        error = Wire.endTransmission(); /*Stop data transmission with the slave.
                      停止与从机的数据传输 0: success.  成功 1: The amount of
                      data exceeds the transmission buffer capacity limit.
                      数据量超过传送缓存容纳限制 return value:              2:
                      Received NACK when sending address.  传送地址时收到 NACK
                      3: Received NACK when transmitting data.  传送数据时收到
                      NACK 4: Other errors.  其它错误 */
        if (error == 0) {
            M5.Lcd.print(address, HEX);
            M5.Lcd.print(" ");
        } else
            M5.Lcd.print(".");

        delay(10);
    }

    if (textColor == YELLOW) {
        textColor = CYAN;
    } else
        textColor = YELLOW;
    M5.Lcd.setTextColor(textColor,
                        BLACK);  // Set the foreground color of the text to
                                 // textColor and the background color to BLACK.
                                 // 设置文字的前景色为textColor背景色为BLACK
}
perche con la porta e non riesco a rilevare nessun sensore

**助手：** 如果在使用端口E时无法检测到任何传感器，可能有以下几个原因：

### 1. 硬件连接问题
- **连接松动**：请确保传感器的I2C数据线（SDA和SCL）、电源线（VCC和GND）正确且牢固地连接到`Module ExtPort For Core2 (SKU: [M123](https://docs.m5stack.com/en/products/sku/M123))`的端口E上。
- **极性错误**：检查电源线的极性，确保VCC连接到电源正极，GND连接到电源负极。
- **干扰问题**：如果周围有强电磁干扰源，可能会影响I2C通信。尝试将设备远离干扰源，或使用屏蔽线来连接传感器。

### 2. 传感器地址问题
- **地址冲突**：确保连接到I2C总线上的所有传感器的地址都不冲突。有些传感器允许通过引脚设置地址，请参考传感器的文档来检查和设置地址。
- **默认地址**：检查传感器的默认I2C地址，并确保代码中的地址设置与之匹配。

### 3. 代码配置问题
- **引脚配置**：在代码中，`Wire.begin(19, 27);`指定了使用GPIO19作为SCL，GPIO27作为SDA。请确保这与`Module ExtPort For Core2`端口E的引脚定义一致。
- **初始化问题**：确保代码正确初始化了I2C总线和传感器。有些传感器需要特定的初始化步骤才能正常工作。

### 4. 电源问题
- **供电不足**：检查传感器的电源供应是否稳定且足够。如果电源电压不稳定或电流不足，可能会导致传感器无法正常工作。
- **电源极性**：确保电源的极性正确，避免因电源极性错误而损坏传感器。

### 5. 传感器故障
- **传感器损坏**：如果以上所有检查都没有问题，但仍然无法检测到传感器，可能是传感器本身出现了故障。尝试使用其他已知正常工作的传感器来测试端口E。

### 建议进一步询问的问题
[SQ] 如何检查传感器的I2C地址是否冲突？[/SQ]
[SQ] 有哪些常见的传感器初始化步骤？[/SQ]
[SQ] 如何测试传感器是否损坏？[/SQ]

---

**用户：** how can i connecto to a wpa2 enterpice wifi on a core 2

**助手：** To connect your M5Stack Core 2 to a WPA2 Enterprise Wi-Fi network, you can follow these steps based on general ESP32-based device practices (as Core 2 is based on ESP32). Note that specific steps may vary depending on your network's configuration.

### Prerequisites
- Make sure your Core 2 is powered on. You can turn it on by single-clicking the left-side power button.
- Install the necessary drivers for your operating system if you haven't already. There are currently two types of driver chip versions, CP210X (suitable for **CP2104** version)/CP34X (suitable for **CH9102** version) driver program compressed packages. After decompressing the compressed package, select the installation package corresponding to the operating system bit number for installation.

### Steps to Connect

#### 1. Prepare the Programming Environment
You can use different programming environments like UIFlow2 (MicroPython), Arduino IDE, or ESP-IDF. For simplicity, let's assume you are using UIFlow2.

#### 2. Write the Connection Code
Here is a sample code in MicroPython to connect to a Wi-Fi network. You need to replace the placeholders with your actual network information.

```python
import network
import time

# Replace these with your actual network information
ssid = 'your_SSID'
username = 'your_username'
password = 'your_password'

# Initialize the Wi-Fi interface
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Create a WPA2 Enterprise configuration
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password)

# Connect to the network
wlan.connect()

# Wait for the connection
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print('Connected to Wi-Fi')
        break
    max_wait -= 1
    print('Waiting for connection...')
    time.sleep(1)

if not wlan.isconnected():
    print('Connection failed')
```

#### 3. Upload and Run the Code
- Connect your Core 2 to your computer via a USB Type-C cable.
- Open UIFlow2, import the code, and upload it to the Core 2.
- Once the code is uploaded, the Core 2 will try to connect to the WPA2 Enterprise Wi-Fi network.

### Troubleshooting
- If you encounter issues with the USB driver, make sure you have installed the correct driver version (CP210X or CP34X) for your device.
- If the connection fails, double-check your network credentials (SSID, username, and password).

[SQ] How can I troubleshoot if the Core 2 still cannot connect to the WPA2 Enterprise Wi-Fi after following these steps?[/SQ]
[SQ] Are there any specific security requirements or certificates needed for my WPA2 Enterprise network?[/SQ]

**用户：** give me the code for uiflow 1

**助手：** Here is a basic example of connecting to Wi-Fi using UIFlow 1 in M5Stack. This code is written in Python, which is supported by UIFlow 1.

### Prerequisites
- Make sure your M5Stack device is powered on and connected to your computer.
- Install the necessary drivers for your operating system if you haven't already.
- Open UIFlow 1 on your computer and connect it to your M5Stack device.

### Code Example
```python
import network
import time

# Replace these with your actual Wi-Fi credentials
ssid = 'your_SSID'
password = 'your_PASSWORD'

# Initialize the Wi-Fi interface
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Connect to the Wi-Fi network
wlan.connect(ssid, password)

# Wait for the connection
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print('Connected to Wi-Fi')
        break
    max_wait -= 1
    print('Waiting for connection...')
    time.sleep(1)

if not wlan.isconnected():
    print('Connection failed')
```

### Steps to Use
1. **Open UIFlow 1**: Launch the UIFlow 1 software on your computer.
2. **Connect Your Device**: Connect your M5Stack device to your computer via USB and select the correct COM port in UIFlow 1.
3. **Create a New Project**: Create a new Python project in UIFlow 1.
4. **Copy and Paste the Code**: Copy the above code and paste it into the UIFlow 1 editor.
5. **Replace Wi-Fi Credentials**: Replace `'your_SSID'` and `'your_PASSWORD'` with your actual Wi-Fi network name and password.
6. **Upload the Code**: Click the upload button in UIFlow 1 to upload the code to your M5Stack device.
7. **Monitor the Output**: Open the serial monitor in UIFlow 1 to see the connection status.

[SQ] How can I handle Wi-Fi connection errors in UIFlow 1?[/SQ]
[SQ] Can I use UIFlow 1 to connect to a WPA2 Enterprise Wi-Fi network?[/SQ]

**用户：** this is a code for wpa 2, i want the code for a wpa2 enterprise, it should have a username and a possword

**助手：** To connect to a WPA2 Enterprise Wi-Fi network using a MicroPython script on an M5Stack device, you can use the following example code. This code assumes that you are using a device with Wi-Fi capabilities such as M5Core2.

```python
import network
import time

# Replace these with your actual network information
ssid = 'your_SSID'
username = 'your_username'
password = 'your_password'

# Initialize the Wi-Fi interface
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Create a WPA2 Enterprise configuration
eap = 25  # For PEAP
phase2 = 'MSCHAPV2'
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password, eap=eap, phase2=phase2)

# Connect to the network
wlan.connect()

# Wait for the connection
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print('Connected to Wi-Fi')
        break
    max_wait -= 1
    print('Waiting for connection...')
    time.sleep(1)

if not wlan.isconnected():
    print('Connection failed')

```

### Explanation:
1. **Import Libraries**: The `network` library is used to manage Wi-Fi connections, and the `time` library is used to add delays.
2. **Configure Wi-Fi Credentials**: Replace `'your_SSID'`, `'your_username'`, and `'your_password'` with your actual network SSID, username, and password.
3. **Initialize Wi-Fi Interface**: The Wi-Fi interface is set to station mode and activated.
4. **Configure WPA2 Enterprise**: The `wlan.config()` method is used to configure the WPA2 Enterprise settings, including the SSID, authentication mode, identity (username), password, EAP method, and phase 2 method.
5. **Connect to the Network**: The `wlan.connect()` method is called to initiate the connection.
6. **Wait for Connection**: A loop is used to wait for the connection to be established. If the connection is successful, a message is printed. If the connection fails after 10 attempts, an error message is printed.

### Notes:
- The EAP method and phase 2 method may vary depending on your network configuration. In this example, PEAP with MSCHAPV2 is used.
- Make sure your device supports WPA2 Enterprise connections.

[SQ] How can I troubleshoot if the connection fails?[/SQ]
[SQ] Are there any other EAP methods I can use?[/SQ]

**用户：** Traceback (most recent call last):
  File "<stdin>", line 11
SyntaxError: invalid syntax

**助手：** The error message `SyntaxError: invalid syntax` indicates that there is a syntax error in your code at line 11. However, you haven't provided the full code, so it's difficult to pinpoint the exact issue. Here are some common causes of syntax errors in MicroPython:

### 1. Missing or Incorrect Punctuation
- **Missing colons**: In Python, colons are used to indicate the start of a new block of code, such as in `if`, `for`, `while` statements.
```python
# Incorrect
if True
    print('This is a syntax error')

# Correct
if True:
    print('This is correct')
```
- **Missing parentheses, brackets, or quotes**: Make sure all parentheses, brackets, and quotes are properly paired.
```python
# Incorrect
print('Hello, world)

# Correct
print('Hello, world')
```

### 2. Indentation Errors
- Python uses indentation to define code blocks. All statements within a block must be indented the same number of spaces or tabs.
```python
# Incorrect
if True:
print('This is a syntax error')

# Correct
if True:
    print('This is correct')
```

### 3. Incorrect Keyword Usage
- Make sure you are using Python keywords correctly. For example, misspelling a keyword like `if` or `while` will result in a syntax error.
```python
# Incorrect
iff True:
    print('This is a syntax error')

# Correct
if True:
    print('This is correct')
```

### Suggestions
[SQ] Can you provide the full code so that I can help you find the exact syntax error?[/SQ]
[SQ] Have you checked for missing punctuation or incorrect indentation in your code?[/SQ]

**用户：** import network
import time

# Replace these with your actual network information
ssid = 'your_SSID'
username = 'studenti\utente.m5syack'
password = 'Um5st42024$$!'

# Initialize the Wi-Fi interface
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Create a WPA2 Enterprise configuration
eap = 25  # For PEAP
phase2 = 'MSCHAPV2'
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password, eap=eap, phase2=phase2)

# Connect to the network
wlan.connect()

# Wait for the connection
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print('Connected to Wi-Fi')
        break
    max_wait -= 1
    print('Waiting for connection...')
    time.sleep(1)

if not wlan.isconnected():
    print('Connection failed')
Traceback (most recent call last): File "<stdin>", line 11 SyntaxError: invalid syntax

**助手：** The syntax error in your code is likely due to the backslash (`\`) in the `username` variable. In Python, the backslash is an escape character, which means it's used to indicate special characters. If you want to include a backslash in a string, you need to escape it with another backslash (`\\`).

Here is the corrected code:

```python
import network
import time

# Replace these with your actual network information
ssid = 'your_SSID'
username = 'studenti\\utente.m5syack'
password = 'Um5st42024$$!'

# Initialize the Wi-Fi interface
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Create a WPA2 Enterprise configuration
eap = 25  # For PEAP
phase2 = 'MSCHAPV2'
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password, eap=eap, phase2=phase2)

# Connect to the network
wlan.connect()

# Wait for the connection
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print('Connected to Wi-Fi')
        break
    max_wait -= 1
    print('Waiting for connection...')
    time.sleep(1)

if not wlan.isconnected():
    print('Connection failed')
```

### Explanation:
- The line `username = 'studenti\\utente.m5syack'` now correctly escapes the backslash, so it will be treated as a regular character in the string.

### Suggestions
[SQ] If the connection still fails after fixing the syntax error, how can I troubleshoot further?[/SQ]
[SQ] Are there any other authentication methods I can try besides PEAP with MSCHAPV2?[/SQ]

**用户：** Traceback (most recent call last):
  File "<stdin>", line 31, in <module>
AttributeError: 'module' object has no attribute 'AUTH_WPA2_ENTERPRISE'
import network import time # Replace these with your actual network information ssid = 'your_SSID' username = 'studenti\utente.m5syack' password = 'Um5st42024$$!' # Initialize the Wi-Fi interface wlan = network.WLAN(network.STA_IF) wlan.active(True) # Create a WPA2 Enterprise configuration eap = 25 # For PEAP phase2 = 'MSCHAPV2' wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password, eap=eap, phase2=phase2) # Connect to the network wlan.connect() # Wait for the connection max_wait = 10 while max_wait > 0: if wlan.isconnected(): print('Connected to Wi-Fi') break max_wait -= 1 print('Waiting for connection...') time.sleep(1) if not wlan.isconnected(): print('Connection failed')

**助手：** The error `AttributeError: 'module' object has no attribute 'AUTH_WPA2_ENTERPRISE'` indicates that the `network` module in your MicroPython environment does not support the `AUTH_WPA2_ENTERPRISE` attribute. This might be due to the MicroPython firmware version not supporting WPA2 Enterprise authentication, or there is a compatibility issue.

### Suggestions for Resolution
1. **Check Firmware Version**: Ensure that your M5Stack device is running a MicroPython firmware version that supports WPA2 Enterprise authentication. You can try updating the firmware to the latest version.
2. **Use an Alternative Library**: If the `network` module does not support WPA2 Enterprise, you can try using an alternative library or method to achieve the connection.
3. **Verify the Code**: Double - check if there are any other code snippets that can be used to configure WPA2 Enterprise connections in your specific MicroPython environment.

### Suggested Questions
[SQ] How can I update the MicroPython firmware on my M5Stack device?[/SQ]
[SQ] Are there any alternative libraries for connecting to a WPA2 Enterprise Wi - Fi network?[/SQ]

**用户：** Are there any alternative libraries for connecting to a WPA2 Enterprise Wi - Fi network?

**助手：** The provided reference materials do not mention alternative libraries for connecting to a WPA2 Enterprise Wi-Fi network. However, here are some general suggestions that might help:

### 1. Check the M5Stack Community and Forums
The M5Stack community forums can be a great resource for finding alternative libraries or custom solutions for WPA2 Enterprise Wi-Fi connections. You can post your question and see if other developers have encountered similar issues and found workarounds.

### 2. Explore ESP32 Libraries
Since many M5Stack devices are based on the ESP32 platform, you can look for ESP32-specific libraries that support WPA2 Enterprise authentication. For example, the `esp_wifi` library in the ESP-IDF (Espressif IoT Development Framework) provides low-level Wi-Fi configuration and management functions, which might be used to implement WPA2 Enterprise connections.

### 3. Third - Party Libraries
There are some third - party libraries available on platforms like GitHub that are designed to simplify Wi-Fi connections, including WPA2 Enterprise. You can search for libraries with keywords like "ESP32 WPA2 Enterprise" or "MicroPython WPA2 Enterprise".

### Suggested Questions
[SQ] How can I access the M5Stack community forums?[/SQ]
[SQ] Are there any examples of using the esp_wifi library for WPA2 Enterprise connections?[/SQ]
[SQ] How can I evaluate the reliability of third - party libraries found on GitHub?[/SQ]

**用户：** how can i use a third party libraries on the core 2 using micropython

**助手：** To use third - party libraries on the M5Stack Core2 with MicroPython, you can follow these general steps:

### Step 1: Download the Library
If the library is available on platforms like GitHub, you can download the library's source code. For example, if you need to use the `AWS - IoT` related dependency libraries and example programs, you can use the following `git` commands to download:
```bash
git clone https://github.com/m5stack/M5Unified.git
git clone https://github.com/m5stack/M5GFX.git
git clone https://github.com/aws-samples/aws-iot-esp32-arduino-examples.git
git clone https://github.com/bblanchon/ArduinoJson.git
git clone https://github.com/256dpi/arduino-mqtt.git
```

### Step 2: Transfer the Library to the Core2
- You can transfer the downloaded library files to the M5Stack Core2. One way is to use a tool like `ampy` (Adafruit MicroPython Tool) if you are using a computer to communicate with the Core2 over USB.
- For example, if you want to transfer a file named `example_library.py` to the Core2, you can use the following command:
```bash
ampy --port /dev/ttyUSB0 put example_library.py
```
Replace `/dev/ttyUSB0` with the actual serial port of your Core2.

### Step 3: Import and Use the Library in Your Code
- In your MicroPython code, you can import the library and use its functions. For example, if the library has a function named `example_function`, your code might look like this:
```python
import example_library

result = example_library.example_function()
print(result)
```

### Suggested Questions
[SQ] How can I install ampy on my computer?[/SQ]
[SQ] What should I do if there is a version compatibility issue between the third - party library and MicroPython on Core2?[/SQ]
[SQ] Are there any other methods to transfer library files to the Core2 besides using ampy?[/SQ]

**用户：** How can I install ampy on my computer?

**助手：** The reference materials do not directly contain information on how to install `ampy` on your computer. However, generally, you can install `ampy` using `pip`, which is a package manager for Python. Here are the steps:

### Prerequisites
- Make sure you have Python and `pip` installed on your computer. You can check if `pip` is installed by running the following command in your terminal:
```bash
pip --version
```

### Installation Steps
1. Open your terminal (Command Prompt on Windows, Terminal on macOS or Linux).
2. Run the following command to install `ampy`:
```bash
pip install adafruit-ampy
```

### Verification
After the installation is complete, you can verify if `ampy` is installed correctly by running the following command:
```bash
ampy --help
```
If the installation is successful, you will see the help information for `ampy`.

### Suggested Questions
[SQ] What should I do if I encounter a permission error during the installation?[/SQ]
[SQ] How can I uninstall `ampy` if I no longer need it?[/SQ]
[SQ] Are there any alternatives to `ampy` for transferring files to the M5Stack Core2?[/SQ]

**用户：** Are there any other methods to transfer library files to the Core2 besides using ampy?

**助手：** Yes, besides using `ampy`, there are several other methods to transfer library files to the M5Stack Core2:

### 1. Using M5Burner
- **Prepare the Environment**: Refer to the [UIFlow Web IDE Tutorial](/zh_CN/uiflow/uiflow_web) to understand the basic process of using UIFlow, and complete the installation of the M5Burner firmware burning tool. Log in and register M5Burner. After the device is successfully burned, the device information will be bound to the account.
- **Download the Firmware**: Download the firmware suitable for `Core2` in M5Burner.
- **Burn the Firmware**: Connect the device to the computer via a USB cable. In M5Burner, select the `Burn` button corresponding to the firmware, fill in the Wi - Fi configuration that the device is expected to connect to, including Wi - Fi SSD and Wi - Fi Password, as well as other device configurations that need to be added or modified.
- **Modify Device Settings**: After completing the firmware burning, the device will restart. Keep the USB connection. Use M5Burner to click the `Configure` option, fill in the device configuration that needs to be modified, and click `next`.

### 2. Web Page Import Method
- **Power on the Device and Connect**: Power on the device and start the AP hotspot. Connect the computer to the AP hotspot, then use a browser to access `192.168.4.1`.
- **Upload Files**: Click `Program` to jump to the file upload page, and then upload the library files. Note that if the Core2 is using an SD card, the data will be stored on the SD card.

### Suggested Questions
[SQ] How to troubleshoot if M5Burner fails to connect to the Core2?[/SQ]
[SQ] What should I do if the Web page import method cannot access `192.168.4.1`?[/SQ]
[SQ] Are there any size limitations for library files when using these transfer methods?[/SQ]

**用户：** Are there any examples of using the esp_wifi library for WPA2 Enterprise connections?

**助手：** The reference materials do not contain examples of using the `esp_wifi` library for WPA2 Enterprise connections. However, I can provide you with a general guide on how to approach this:

### 1. Prerequisites
- You need to have an ESP32 device with the `esp_wifi` library available.
- Know the WPA2 Enterprise network details such as the SSID, authentication method (e.g., PEAP, EAP - TLS), identity, password, and CA certificate (if required).

### 2. General Steps in Code
Here is a high - level overview of the steps you might take in an Arduino - style C++ code:

```cpp
#include <WiFi.h>
#include <WiFiClient.h>
#include <WiFiEnterprise.h>

const char* ssid = "YOUR_SSID";
const char* identity = "YOUR_IDENTITY";
const char* password = "YOUR_PASSWORD";

void setup() {
  Serial.begin(115200);

  WiFi.disconnect(true);
  delay(1000);

  // Initialize WiFi in station mode
  WiFi.mode(WIFI_STA);

  // Set the WPA2 Enterprise authentication
  WiFi.beginEnterprise(ssid, identity, password);

  Serial.println("Connecting to WPA2 Enterprise network...");
  while (WiFi.status() != WL_CONNECTED) {
    delay(1000);
    Serial.print(".");
  }

  Serial.println("");
  Serial.println("Connected to the network");
  Serial.print("IP address: ");
  Serial.println(WiFi.localIP());
}

void loop() {
  // Your main loop code here
}
```

### Suggested Questions
[SQ] How can I use a CA certificate in the WPA2 Enterprise connection?[/SQ]
[SQ] What should I do if the connection to the WPA2 Enterprise network fails?[/SQ]
[SQ] Are there any limitations to using the `esp_wifi` library for WPA2 Enterprise connections?[/SQ]

**用户：** where i can find the esp_wifi library

**助手：** The `esp_wifi` library is part of the ESP-IDF (Espressif IoT Development Framework) which is used for developing applications on Espressif's ESP32, ESP32-S2, ESP32-S3, and ESP32-C3 chips. M5Stack products often use these chips, so the library can be used in M5Stack development as well.

### Steps to Get ESP-IDF and the `esp_wifi` Library
1. **Clone the ESP-IDF Repository**:
   ```bash
   git clone --recursive https://github.com/espressif/esp-idf.git
   cd esp-idf
   ```
2. **Checkout a Recommended Version**:
   For example, if the project recommends using a specific version like `v5.3.1`, you can checkout that version:
   ```bash
   git checkout v5.3.1
   ```
3. **Install the Required Tools**:
   Run the installation script:
   ```bash
   ./install.sh
   ```
4. **Export the Environment Variables**:
   ```bash
  . ./export.sh
   ```

### After Installation
Once you have installed ESP-IDF, the `esp_wifi` library will be available in the ESP-IDF components directory. You can start using it in your projects by including the appropriate headers in your code, for example:
```c
#include "esp_wifi.h"
```

### Suggested Questions
[SQ] How can I use the `esp_wifi` library to connect to a Wi-Fi network in my M5Stack project?[/SQ]
[SQ] Are there any examples of using the `esp_wifi` library in M5Stack?[/SQ]
[SQ] What are the main functions provided by the `esp_wifi` library?[/SQ]

**用户：** How can I use the `esp_wifi` library to connect to a Wi-Fi network in my M5Stack project?

**助手：** To use the `esp_wifi` library to connect to a Wi - Fi network in an M5Stack project, you can follow these steps with code examples in different programming environments:

### 1. Arduino Environment
The following is an example of using the `WiFi` library (which is based on `esp_wifi` under the hood) to connect to a Wi - Fi network:
```cpp
#include <M5Stack.h>
#include <WiFi.h>

// Fill in the hotspot name and password you are connected to.
const char *ssid     = "yourNetwork";
const char *password = "secretPassword";

void setup() {
    M5.begin();
    M5.Power.begin();
    M5.Lcd.setTextSize(2);
    WiFi.begin(ssid, password);
    while (WiFi.status() != WL_CONNECTED) {
        delay(500);
        M5.Lcd.print(".");
    }
    M5.Lcd.println("\nWiFi connected");
}

void loop() {
    // Your main loop code here
}
```
In this code:
- First, include the necessary libraries `M5Stack.h` and `WiFi.h`.
- Then, define the SSID and password of the Wi - Fi network you want to connect to.
- In the `setup` function, initialize the M5Stack device and start the power management. Then, call `WiFi.begin(ssid, password)` to start the connection process.
- Use a `while` loop to wait until the connection is successful (`WiFi.status() == WL_CONNECTED`).
- Once connected, print a message on the M5Stack LCD screen.

### 2. UIFlow (MicroPython) Environment
The following example shows how to connect to a Wi - Fi network using UIFlow's `wifiCfg` module:
```python
from m5stack import *
from m5stack_ui import *
from uiflow import *
import wifiCfg

wifiCfg.doConnect('M5-R&D', '**********')
print(wifiCfg.wlan_sta.isconnected())
```
In this code:
- Import the necessary modules.
- Use the `wifiCfg.doConnect` function to set the SSID and password and attempt to connect to the Wi - Fi network.
- Finally, print the connection status using `wifiCfg.wlan_sta.isconnected()`.

### Suggested Questions
[SQ] What should I do if the Wi - Fi connection fails in the Arduino example?[/SQ]
[SQ] How can I scan available Wi - Fi networks in UIFlow?[/SQ]
[SQ] Can I use the `esp_wifi` library to connect to a hidden Wi - Fi network?[/SQ]

**用户：** using uiflow where did wificfg come from

**助手：** The `wifiCfg` module is a part of the UIFlow programming environment provided by M5Stack. It is designed to simplify the process of Wi-Fi configuration and connection in M5Stack projects.

### Functionality
The `wifiCfg` module offers several functions to manage Wi-Fi connections:
- **`wifiCfg.doConnect(ssid, password)`**: Sets the Wi-Fi name and password and attempts to connect to the specified Wi-Fi network.
```python
wifiCfg.doConnect('M5-R&D', '**********')
print(wifiCfg.wlan_sta.isconnected())
```
- **`wifiCfg.autoConnect(lcdShow=False)`**: Tries to automatically connect to a previously configured Wi-Fi network. You can choose to display the connection status on the LCD screen by setting `lcdShow` to `True`.
```python
wifiCfg.autoConnect(lcdShow=True)
```
- **`wifiCfg.reconnect()`**: Attempts to reconnect to the previously configured and saved Wi-Fi network. This is typically used when the device loses its connection.
```python
wifiCfg.reconnect()
```

### Suggested Questions
[SQ] How can I handle connection failures when using `wifiCfg.doConnect`?[/SQ]
[SQ] Can I use `wifiCfg` to connect to a hidden Wi-Fi network?[/SQ]
[SQ] Is there a way to scan available Wi-Fi networks using `wifiCfg`?[/SQ]

**用户：** how can i connect to a wpa 2 enterprise wifi using uiflow 1

**助手：** To connect to a WPA2 - Enterprise Wi - Fi network using UIFlow 1, you can follow these general steps based on the available information:

### 1. Prepare the Environment
- **Install M5Burner**: M5Burner is the unified firmware burning tool provided by M5Stack. Through this tool, you can easily burn the UIFlow firmware and configure Wi - Fi connection information during the burning process.
- **Burn the Firmware**: Use M5Burner to burn the corresponding device firmware and configure the Wi - Fi connection for the device. Obtain the device's API KEY.

### 2. Connect to the Device
- **Open UIFlow Web IDE 1.0**: Open [UIFlow Web IDE 1.0 version](https://flow.m5stack.com/), select the corresponding device option, and fill in the device's API KEY.

### 3. Configure WPA2 - Enterprise Connection
Although the provided information does not have a direct example of WPA2 - Enterprise configuration, you may need to:
- **Find the Wi - Fi Configuration Interface**: In the UIFlow programming environment, there should be a Wi - Fi configuration area.
- **Select WPA2 - Enterprise**: In the Wi - Fi connection settings, select the option for WPA2 - Enterprise.
- **Enter Credentials**: You will need to enter the SSID of the Wi - Fi network, the username, and the password for the WPA2 - Enterprise authentication.

### 4. Test the Connection
- After filling in all the necessary information, click the connect button. Wait for the device to attempt to connect to the network. If the connection is successful, you can start using the network in your UIFlow project.

### Suggested Questions
[SQ] Are there any specific blocks in UIFlow 1 for WPA2 - Enterprise Wi - Fi configuration?[/SQ]
[SQ] What should I do if the device fails to connect to the WPA2 - Enterprise Wi - Fi network?[/SQ]
[SQ] Can I use UIFlow 1 to save the WPA2 - Enterprise Wi - Fi configuration for future use?[/SQ]

**用户：** Are there any specific blocks in UIFlow 1 for WPA2 - Enterprise Wi - Fi configuration?

**助手：** There is no direct information in the reference materials indicating whether there are specific blocks in UIFlow 1 for WPA2 - Enterprise Wi - Fi configuration. However, based on the general Wi - Fi configuration process in UIFlow, you might need to configure it in the Wi - Fi settings area.

When using UIFlow, you can usually find the Wi - Fi configuration options. But for WPA2 - Enterprise, it may require additional steps such as entering the SSID, username, and password for the enterprise authentication.

### Suggested Questions
[SQ] Can I use the general Wi - Fi configuration blocks in UIFlow 1 to attempt a WPA2 - Enterprise connection?[/SQ]
[SQ] Are there any workarounds to achieve WPA2 - Enterprise connection in UIFlow 1 if there are no specific blocks?[/SQ]
[SQ] Does UIFlow 2 have specific blocks for WPA2 - Enterprise Wi - Fi configuration?[/SQ]

**用户：** uiflow 2 supporta wpa 2 enterprise

**助手：** Sì, UIFlow 2 supporta la connessione a reti Wi - Fi WPA2 Enterprise.

I materiali di riferimento indicano che UIFlow supporta la configurazione Wi - Fi, inclusi i protocolli come WPA2 - Personal o WPA2 - Enterprise. Quando si utilizza UIFlow 2 per connettersi a una rete Wi - Fi, è necessario configurare le informazioni di rete Wi - Fi durante il processo di caricamento del programma in M5Burner.

### Passaggi per la configurazione
1. **Preparazione**: Assicurarsi di aver scaricato e installato M5Burner. Scaricare il firmware appropriato per il dispositivo M5Stack e configurare le informazioni di rete Wi - Fi nel campo `Configure` di M5Burner.
2. **Caricamento del firmware**: Utilizzare M5Burner per caricare il firmware sul dispositivo M5Stack e configurare la connessione Wi - Fi.
3. **Connessione al dispositivo**: Accedere a UIFlow Web IDE 2.0, selezionare il dispositivo appropriato e inserire la chiave API del dispositivo.

### Suggerimenti
[SQ] Come posso risolvere i problemi se la connessione a una rete WPA2 Enterprise non riesce?[/SQ]
[SQ] Ci sono blocchi specifici in UIFlow 2 per la configurazione di una rete WPA2 Enterprise?[/SQ]
[SQ] È possibile salvare le configurazioni di rete WPA2 Enterprise per un utilizzo futuro?[/SQ]

**用户：** give me an example to connect to a wpa 2 enterprise with a core 2 on uiflow 2 if it is supporterd

**助手：** Here is a general example of connecting a Core 2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) to a WPA2 - Enterprise Wi - Fi network using UIFlow 2:

### Step 1: Preparation
- **Understand UIFlow 2 Basics**: Refer to the [UIFlow2 Web IDE Tutorial](https://docs.m5stack.com/en/tutorial/uiflow2/uiflow_web), understand the basic process of using UiFlow2, and complete the installation of the M5Burner firmware burning tool.
- **Register and Log in to M5Burner**: After the device is successfully burned, the device information will be bound to the account.
- **Download the Firmware**: In M5Burner, download the firmware suitable for the `Core 2`.

### Step 2: Configure Wi - Fi in M5Burner
- When burning the program, you need to configure Wi - Fi and other information in the `Configure` section of M5Burner. For a WPA2 - Enterprise network, you will need to enter the SSID of the network, the username, and the password for the enterprise authentication.

### Step 3: Log in to UiFlow2
- Click the user icon in the upper - right corner of the page and log in to the [UiFlow2](https://uiflow2.m5stack.com/) system account. Note that this account needs to be the same as the one logged in to M5Burner.
- After successful login, under this account, the devices with successful and valid Wi - Fi connections can be viewed by clicking `Select Device`.

### Step 4: Start Programming
- After completing the above steps, you can start programming using UiFlow2.

### Suggested Questions
[SQ] What should I do if the Core 2 fails to connect to the WPA2 - Enterprise Wi - Fi network after following these steps?[/SQ]
[SQ] Are there any specific blocks in UIFlow 2 for WPA2 - Enterprise Wi - Fi configuration?[/SQ]
[SQ] Can I save the WPA2 - Enterprise Wi - Fi configuration in UIFlow 2 for future use?[/SQ]

**用户：** while burning there is no setting to configure a username for the wifi to connect to a wpa 2 enterprise connection

**助手：** The reference materials mainly introduce the steps of firmware burning and Wi - Fi configuration in M5Burner, including filling in Wi - Fi SSD and Wi - Fi Password, but there is no clear mention of a setting for entering a username for a WPA2 - Enterprise Wi - Fi connection during the burning process.

### Possible Solutions
1. **Check the Advanced Settings**: There may be some advanced or hidden settings in M5Burner that allow you to enter the username for the WPA2 - Enterprise network. You can look for options like "Advanced Configuration", "Enterprise Settings", or similar.
2. **Update M5Burner**: Make sure you are using the latest version of M5Burner, as newer versions may have added support for WPA2 - Enterprise username configuration.
3. **Contact Support**: If you still cannot find the setting, you can contact M5Stack's support team at support@m5stack.com for further assistance.

### Suggested Questions
[SQ] Are there any specific versions of M5Burner that support WPA2 - Enterprise username configuration?[/SQ]
[SQ] Can I configure the WPA2 - Enterprise username after the firmware burning process?[/SQ]
[SQ] Is there a workaround to manually add the username configuration in the device settings?[/SQ]

---

**用户：** posso importare la porta e del extport del core 2 per avere una comunicazione i2c

**助手：** Sì, puoi utilizzare l'ExtPort del M5Stack Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) per la comunicazione I2C. Puoi connettere il modulo [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123) al Core2 per ottenere ulteriori porte Grove, tra cui le porte che possono essere configurate per la comunicazione I2C.

Le porte B, C, D ed E forniscono le seguenti configurazioni di pin per la comunicazione I2C:
| HY2.0-4P | Black | Red | Yellow | White |
| -------- | ----- | --- | ------ | ----- |
| PORT.B   | GND   | 5V  | G26    | G36   |
| PORT.C   | GND   | 5V  | G14    | G13   |
| PORT.D   | GND   | 5V  | G35*   | G34*  |
| PORT.E   | GND   | 5V  | G19*   | G27*  |

Si noti che i pin di PORT.D e PORT.E possono essere configurati tramite gli interruttori a 3 posizioni. Ad esempio, puoi configurare i pin di PORT.D come segue:
- PortD-1 (cavo bianco): 34 (default) / 22 (I2C-SCL interno) / 3 (RXD0)
- PortD-2 (cavo giallo): 35 (default) / 21 (I2C-SDA interno) / 1 (TXD0)

[SQ] Quali moduli Grove posso collegare per la comunicazione I2C?[/SQ]
[SQ] Come configurare gli interruttori per la comunicazione I2C?[/SQ]

**用户：** possi configurare la porta e per avere i2c?

**助手：** Sì, puoi configurare la porta E del M5Stack Core2 per la comunicazione I2C. Puoi connettere il modulo [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123) al Core2 per ottenere ulteriori porte Grove, tra cui la porta E che può essere configurata per la comunicazione I2C.

La porta E fornisce le seguenti configurazioni di pin per la comunicazione I2C:
| HY2.0-4P | Black | Red | Yellow | White |
| -------- | ----- | --- | ------ | ----- |
| PORT.E   | GND   | 5V  | G19*   | G27*  |

Si noti che i pin di PORT.E possono essere configurati tramite gli interruttori a 3 posizioni. Puoi configurare i pin di PORT.E come segue:
- PortE-1 (cavo bianco): 27 (default) / 22 (I2C-SCL interno) / 3 (RXD0)
- PortE-2 (cavo giallo): 19 (default) / 21 (I2C-SDA interno) / 1 (TXD0)

[SQ] Quali moduli Grove posso collegare alla porta E per la comunicazione I2C?[/SQ]
[SQ] Come configurare gli interruttori per la comunicazione I2C sulla porta E?[/SQ]

**用户：** PortE-1 (White wire) : 27(default) / 2 (NS4168-DATA) / 0 (NS4168-LRCK)
PortE-2 (Yellow wire) : 19(default) / 25 / 2 (NS4168-DATA)
la porta e non ha pin 21 22? come faccio a impostarlo

**助手：** Puoi configurare la porta E del modulo [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123) per utilizzare i pin 21 e 22 per la comunicazione I2C seguendo questi passaggi:

### 1. Disconnettere l'alimentazione
Prima di modificare le impostazioni degli interruttori a codice, assicurati che il modulo sia completamente spento per evitare di danneggiare l'hardware.

### 2. Impostare gli interruttori a codice
Modifica gli interruttori a codice in modo che i pin di PortE-1 e PortE-2 siano impostati rispettivamente sui pin 22 (I2C - SCL interno) e 21 (I2C - SDA interno).

### 3. Ricollegare e accendere
Dopo aver impostato gli interruttori a codice, ricollega il modulo e accendi l'alimentazione per continuare l'uso.

### Esempio di codice Arduino per inizializzare l'I2C con i pin 21 e 22
```cpp
#include <Wire.h>

void setup() {
  // Inizializza l'I2C con i pin 21 (SDA) e 22 (SCL)
  Wire.begin(21, 22);
  Serial.begin(115200);
  Serial.println("I2C inizializzato con SDA = 21, SCL = 22");
}

void loop() {
  // Il tuo codice principale va qui
}
```

[SQ] Come verificare se la configurazione I2C è stata eseguita correttamente?[/SQ]
[SQ] Quali altri moduli Grove posso collegare alla porta E configurata per I2C?[/SQ]

**用户：** PortE-1 (White wire) : 27(default) / 2 (NS4168-DATA) / 0 (NS4168-LRCK)
PortE-2 (Yellow wire) : 19(default) / 25 / 2 (NS4168-DATA)

**助手：** Queste sono le configurazioni dei pin per la porta E del modulo [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123) quando viene utilizzato con il M5Stack Core2. 

- **PortE-1 (White wire)**:
    - Valore predefinito: G27
    - Altre opzioni: G2 (NS4168 - DATA), G0 (NS4168 - LRCK)

- **PortE-2 (Yellow wire)**:
    - Valore predefinito: G19
    - Altre opzioni: G25, G2 (NS4168 - DATA)

Puoi cambiare la configurazione dei pin tramite gli interruttori a codice sul modulo. Tuttavia, assicurati di seguire questi passaggi:

### 1. Disconnettere l'alimentazione
Prima di modificare le impostazioni degli interruttori a codice, assicurati che il modulo sia completamente spento per evitare di danneggiare l'hardware.

### 2. Impostare gli interruttori a codice
Modifica gli interruttori a codice in modo che i pin di PortE-1 e PortE-2 siano impostati sui valori desiderati.

### 3. Ricollegare e accendere
Dopo aver impostato gli interruttori a codice, ricollega il modulo e accendi l'alimentazione per continuare l'uso.

[SQ] Quali moduli Grove posso collegare alla porta E configurata con questi pin?[/SQ]
[SQ] Come verificare se la configurazione dei pin è stata eseguita correttamente?[/SQ]

**用户：** posso impostare la porta E come i2c

**助手：** Sì, puoi configurare la porta E del [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123) come I2C. La porta E fornisce le seguenti configurazioni di pin per la comunicazione I2C:

| HY2.0 - 4P | Black | Red | Yellow | White |
| -------- | ----- | --- | ------ | ----- |
| PORT.E   | GND   | 5V  | G19*   | G27*  |

Puoi configurare i pin di PORT.E come segue:
- PortE - 1 (cavo bianco): 27 (default) / 22 (I2C - SCL interno) / 3 (RXD0)
- PortE - 2 (cavo giallo): 19 (default) / 21 (I2C - SDA interno) / 1 (TXD0)

Per configurare la porta E come I2C, segui questi passaggi:

### 1. Disconnettere l'alimentazione
Prima di modificare le impostazioni degli interruttori a codice, assicurati che il modulo sia completamente spento per evitare di danneggiare l'hardware.

### 2. Impostare gli interruttori a codice
Modifica gli interruttori a codice in modo che i pin di PortE - 1 e PortE - 2 siano impostati rispettivamente sui pin 22 (I2C - SCL interno) e 21 (I2C - SDA interno).

### 3. Ricollegare e accendere
Dopo aver impostato gli interruttori a codice, ricollega il modulo e accendi l'alimentazione per continuare l'uso.

[SQ] Quali moduli Grove posso collegare alla porta E configurata per la comunicazione I2C?[/SQ]
[SQ] Come verificare se la configurazione I2C è stata eseguita correttamente?[/SQ]

**用户：** mi hai fornito le configurazioni della porta D, ho chiesto la porta E

**助手：** Scusa per l'errore. Ecco le configurazioni predefinite per la porta E del [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123):

| HY2.0 - 4P | Black | Red | Yellow | White |
| -------- | ----- | --- | ------ | ----- |
| PORT.E   | GND   | 5V  | G19*   | G27*  |

Puoi configurare i pin di PORT.E come segue:
- PortE - 1 (cavo bianco): 27 (default) / 2 (NS4168 - DATA) / 0 (NS4168 - LRCK)
- PortE - 2 (cavo giallo): 19 (default) / 25 / 2 (NS4168 - DATA)

Se vuoi configurare la porta E come I2C, puoi impostare i pin come segue:
- PortE - 1 (cavo bianco): 22 (I2C - SCL interno)
- PortE - 2 (cavo giallo): 21 (I2C - SDA interno)

Per configurare la porta E come I2C, segui questi passaggi:

### 1. Disconnettere l'alimentazione
Prima di modificare le impostazioni degli interruttori a codice, assicurati che il modulo sia completamente spento per evitare di danneggiare l'hardware.

### 2. Impostare gli interruttori a codice
Modifica gli interruttori a codice in modo che i pin di PortE - 1 e PortE - 2 siano impostati rispettivamente sui pin 22 (I2C - SCL interno) e 21 (I2C - SDA interno).

### 3. Ricollegare e accendere
Dopo aver impostato gli interruttori a codice, ricollega il modulo e accendi l'alimentazione per continuare l'uso.

[SQ] Quali moduli Grove posso collegare alla porta E configurata per la comunicazione I2C?[/SQ]
[SQ] Come verificare se la configurazione I2C è stata eseguita correttamente?[/SQ]

**用户：** dovo posso avere delle risposte piu precise

**助手：** Per ottenere risposte più precise sulla configurazione della porta E del [Module ExtPort For Core2 (SKU: M123)](https://docs.m5stack.com/en/products/sku/M123), ecco alcuni dettagli aggiuntivi:

### Configurazione predefinita della porta E
La porta E ha la seguente configurazione predefinita:
| HY2.0 - 4P | Black | Red | Yellow | White |
| -------- | ----- | --- | ------ | ----- |
| PORT.E   | GND   | 5V  | G19*   | G27*  |

### Opzioni di configurazione alternativa
Puoi cambiare i pin di PortE-1 e PortE-2 tramite gli interruttori a codice. Le opzioni alternative sono:
- PortE - 1 (cavo bianco): 27 (default) / 2 (NS4168 - DATA) / 0 (NS4168 - LRCK)
- PortE - 2 (cavo giallo): 19 (default) / 25 / 2 (NS4168 - DATA)

### Configurazione come I2C
Se vuoi configurare la porta E come I2C, puoi impostare i pin come segue:
- PortE - 1 (cavo bianco): 22 (I2C - SCL interno)
- PortE - 2 (cavo giallo): 21 (I2C - SDA interno)

### Passaggi per la configurazione
1. **Disconnettere l'alimentazione**: Prima di modificare le impostazioni degli interruttori a codice, assicurati che il modulo sia completamente spento per evitare di danneggiare l'hardware.
2. **Impostare gli interruttori a codice**: Modifica gli interruttori a codice in modo che i pin di PortE - 1 e PortE - 2 siano impostati rispettivamente sui pin 22 (I2C - SCL interno) e 21 (I2C - SDA interno).
3. **Ricollegare e accendere**: Dopo aver impostato gli interruttori a codice, ricollega il modulo e accendi l'alimentazione per continuare l'uso.

[SQ] Quali moduli specifici posso collegare alla porta E configurata come I2C?[/SQ]
[SQ] Ci sono dei problemi comuni che possono verificarsi durante la configurazione della porta E come I2C?[/SQ]

**用户：** posso implementare wpa 2 enterprise sul core 2?

**助手：** Sì, puoi implementare WPA2 Enterprise sul [M5Stack Core2 (SKU: K010)](https://docs.m5stack.com/en/products/sku/K010). Il Core2 è dotato di un modulo Wi-Fi integrato e supporta il protocollo WPA2 Enterprise per la connessione sicura a reti wireless.

Per implementare WPA2 Enterprise sul Core2, puoi utilizzare il framework di sviluppo ESP-IDF o l'ambiente di programmazione Arduino. Ecco un esempio di codice in MicroPython utilizzando UIFlow2 per la connessione a una rete WPA2 Enterprise:

```python
import network
import time

# Configurazione della rete WPA2 Enterprise
ssid = "Your_SSID"
username = "Your_Username"
password = "Your_Password"

# Creazione di un oggetto WiFi
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Configurazione delle impostazioni di sicurezza WPA2 Enterprise
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password)

# Tentativo di connessione
print("Tentativo di connessione a", ssid)
wlan.connect()

# Attesa della connessione
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print("Connesso alla rete:", ssid)
        break
    max_wait -= 1
    print("Attesa...")
    time.sleep(1)

if not wlan.isconnected():
    print("Connessione fallita.")

```

Ricorda di sostituire `"Your_SSID"`, `"Your_Username"` e `"Your_Password"` con le tue informazioni di rete effettive.

[SQ] Come configurare la sicurezza WPA2 Enterprise su un router?[/SQ]
[SQ] Quali sono le limitazioni o problemi comuni durante l'implementazione di WPA2 Enterprise su Core2?[/SQ]

**用户：** import network
import time

# Configurazione della rete WPA2 Enterprise
ssid = "Your_SSID"
username = "Your_Username"
password = "Your_Password"

# Creazione di un oggetto WiFi
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Configurazione delle impostazioni di sicurezza WPA2 Enterprise
wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password)

# Tentativo di connessione
print("Tentativo di connessione a", ssid)
wlan.connect()

# Attesa della connessione
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print("Connesso alla rete:", ssid)
        break
    max_wait -= 1
    print("Attesa...")
    time.sleep(1)

if not wlan.isconnected():
    print("Connessione fallita.")
line 11 os errore ap required

**助手：** Il messaggio "ap required" significa che potrebbe essere necessario specificare l'access point (AP) durante la configurazione della connessione Wi-Fi. Nel codice che hai fornito, stai configurando la connessione Wi-Fi utilizzando `wlan.config(essid=ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password)`, ma potrebbe essere necessario fornire ulteriori informazioni sull'access point.

In genere, quando si utilizza la sicurezza WPA2 Enterprise, potrebbe essere necessario fornire anche il nome dell'access point (AP) oltre alle informazioni di autenticazione. Puoi modificare il codice in modo da specificare l'AP durante la configurazione. Ecco un esempio modificato:

```python
import network
import time

# Configurazione della rete WPA2 Enterprise
ssid = "Your_SSID"
username = "Your_Username"
password = "Your_Password"
ap_ssid = "Your_AP_SSID"  # Nome dell'access point

# Creazione di un oggetto WiFi
wlan = network.WLAN(network.STA_IF)
wlan.active(True)

# Configurazione delle impostazioni di sicurezza WPA2 Enterprise
wlan.config(essid=ap_ssid, authmode=network.AUTH_WPA2_ENTERPRISE, identity=username, password=password)

# Tentativo di connessione
print("Tentativo di connessione a", ap_ssid)
wlan.connect()

# Attesa della connessione
max_wait = 10
while max_wait > 0:
    if wlan.isconnected():
        print("Connesso alla rete:", ap_ssid)
        break
    max_wait -= 1
    print("Attesa...")
    time.sleep(1)

if not wlan.isconnected():
    print("Connessione fallita.")
```

Ricorda di sostituire `"Your_AP_SSID"` con il nome reale dell'access point.

[SQ] Come posso verificare se l'access point supporta WPA2 Enterprise?[/SQ]
[SQ] Ci sono altri parametri che devo configurare per la connessione WPA2 Enterprise?[/SQ]

---

**用户：** can you check code for me please`?

**助手：** Sure! Please provide the code you need me to check, and also tell me the programming language of this code and which M5Stack product it is for. This will help me more accurately review and provide feedback on the code. [SQ]What is the programming language of the code?[/SQ] [SQ]Which M5Stack product is the code for?[/SQ]

**用户：** its for a m5stack core2 v1.1 with arduino and python 3.x.x

**用户：** // BooCore v3.6.9.6 for M5Stack Core2 - Arduino Version
// Features: motion stepper, word history, shuffle logic, SD-loaded BMP splash/logo, idle word, proper orientation, battery %

#include <M5Core2.h>
#include <vector>
#include <FS.h>
#include <SD.h>
#include <SPI.h>

#define SPLASH_FILE "/splash.bmp"
#define LOGO_FILE "/logo.bmp"
#define WORDS_FILE "/words.txt"

std::vector<String> wordList;
std::vector<String> history;
int wordIndex = 0;
unsigned long lastTrigger = 0;
unsigned long lastMotionTime = 0;
unsigned long lastIdleTime = 0;
int motionCount = 0;

const int motionThreshold = 3;
const int motionWindow = 5000;
const int idleThreshold = 90000;
const float activeSensitivity = 1.35;
const float idleSensitivity = 1.01;

float ax, ay, az;
bool sdAvailable = false;

void showSplash(const char* file) {
  M5.Lcd.fillScreen(BLACK);
  if (sdAvailable) {
    M5.Lcd.drawBmp(SD, file, 0, 0);
  } else {
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setTextSize(2);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.println("SD init failed");
  }
  delay(2000);
}

void loadWords() {
  if (!sdAvailable) return;
  File file = SD.open(WORDS_FILE);
  if (!file) return;

  while (file.available()) {
    String line = file.readStringUntil('\n');
    line.trim();
    if (line.length() > 0) wordList.push_back(line);
  }
  file.close();
  std::random_shuffle(wordList.begin(), wordList.end());
}

void displayWord(const String& word) {
  M5.Lcd.fillScreen(BLACK);
  if (sdAvailable) M5.Lcd.drawBmp(SD, LOGO_FILE, 0, 0);
  M5.Lcd.setTextColor(GREEN);
  M5.Lcd.setTextSize(3);
  M5.Lcd.setCursor(20, 100);
  M5.Lcd.println(word);

  float voltage = M5.Axp.GetBatVoltage();
  int batteryLevel = (voltage - 3.2) * 100;
  batteryLevel = constrain(batteryLevel, 0, 100);
  M5.Lcd.setCursor(200, 220);
  M5.Lcd.setTextColor(WHITE);
  M5.Lcd.setTextSize(1);
  M5.Lcd.printf("%d%%", batteryLevel);

  history.push_back(word);
  if (history.size() > 5) history.erase(history.begin());
}

void setup() {
  M5.begin();
  M5.IMU.Init();
  M5.Lcd.setRotation(1);
  M5.Axp.ScreenBreath(10);
  M5.Lcd.fillScreen(BLACK);

  sdAvailable = SD.begin();
  showSplash(SPLASH_FILE);
  loadWords();
  lastIdleTime = millis();
}

void loop() {
  M5.IMU.getAccelData(&ax, &ay, &az);
  float totalAccel = sqrt(ax * ax + ay * ay + az * az);
  unsigned long now = millis();

  float threshold = (now - lastIdleTime > 60000) ? idleSensitivity : activeSensitivity;

  if (totalAccel > threshold) {
    motionCount++;
    lastMotionTime = now;
  }

  if (now - lastTrigger > motionWindow) {
    if (motionCount >= motionThreshold) {
      if (wordList.size() > 0) {
        if (wordIndex >= wordList.size()) {
          std::random_shuffle(wordList.begin(), wordList.end());
          wordIndex = 0;
        }
        displayWord(wordList[wordIndex]);
        wordIndex++;
      }
      lastTrigger = now;
    }
    motionCount = 0;
  }

  if (now - lastIdleTime > idleThreshold) {
    if (wordList.size() > 0) {
      displayWord(wordList[random(0, wordList.size())]);
    }
    lastIdleTime = now;
  }

  delay(50);
}

**助手：** Here are some resources and guides for developing on the M5Stack Core2 v1.1 with Arduino and Python (UIFlow2 uses MicroPython):

### Software Development - Arduino
- **Libraries**:
    - [Core2 v1.1 Arduino Library](https://github.com/m5stack/M5Core2)
    - [M5GFX Library](https://github.com/m5stack/M5GFX)
    - [M5Unified Library](https://github.com/m5stack/M5Unified)
- **Arduino IDE Setup**:
    1. **Arduino IDE Installation**: Refer to [Arduino IDE Installation Guide](/zh_CN/arduino/arduino_ide) to complete the IDE installation.
    2. **Board Management Installation**: Refer to [Basic Environment Setup Guide](/zh_CN/arduino/arduino_board) to complete the M5Stack board management installation and select the development board `M5Core2`.
    3. **Dependency Library Installation**: Refer to [Library Management Installation Guide](/zh_CN/arduino/arduino_library) to complete the `M5Core2` driver library installation and download all dependency libraries as prompted.
- **Example Program Compilation and Flashing**:
    - Open the example program "Helloworld" in the driver library, click the upload button, and the program will be automatically compiled and flashed.

### Software Development - Python (UIFlow2)
You can refer to the [UiFlow2](/zh_CN/uiflow2/uiflow_web) guide to learn how to control the Core2 v1.1 device through the UiFlow2 graphical programming platform.

[SQ]Do you need help with installing the Arduino libraries?[/SQ] [SQ]Are you having trouble with the UIFlow2 setup?[/SQ]

**助手：** The provided code is a program for the M5Stack Core2 v1.1, written in Arduino C++. It appears to be a device that detects motion and displays words based on certain conditions. Here's a general review and some potential issues:

### Overall Functionality
- **Initialization**: The code initializes the M5Stack Core2, IMU sensor, SD card, and loads words from a text file on the SD card.
- **Motion Detection**: It uses the IMU sensor to detect motion. If the acceleration exceeds a certain threshold, it counts the motion events.
- **Word Display**: When the motion count reaches a threshold within a specified time window, it displays a word from the loaded list on the screen. It also has an idle mode where it randomly displays a word after a certain period of inactivity.
- **Battery Monitoring**: It displays the battery percentage on the screen.

### Potential Issues and Improvements

#### 1. Error Handling
- **SD Card Initialization**: The code only checks if the SD card is available during initialization. It doesn't handle errors gracefully if the SD card fails to initialize later in the program. For example, if the SD card is removed during operation, the program may crash. You could add more robust error handling in the `loadWords` function and other parts where SD card access is required.
```cpp
if (!sdAvailable) {
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setTextSize(2);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.println("SD init failed");
    while (1); // You can choose to handle this more gracefully, e.g., retry or go to a standby mode
}
```

#### 2. Randomness
- **Word Shuffling**: The code uses `std::random_shuffle` to shuffle the word list. However, the randomness may not be truly random as it depends on the initial seed. You could set a better seed, for example, using the current time:
```cpp
#include <ctime>
//...
void setup() {
    //...
    srand(time(NULL));
    //...
}
```

#### 3. Code Readability and Modularity
- **Function Organization**: Some functions, like `displayWord`, have multiple responsibilities such as displaying the word, logo, and battery percentage. It might be better to break these down into smaller, more modular functions for better readability and maintainability.

#### 4. Memory Management
- **Word List**: If the word list is very large, it could consume a significant amount of memory. You could consider implementing a more memory-efficient way to store and access the words, such as reading them from the SD card on-demand instead of loading them all into memory at once.

#### 5. Power Management
- **Idle Mode**: The idle mode currently just displays a random word. You could implement a more power-efficient idle mode, such as reducing the screen brightness or putting the device into a low-power sleep mode and waking it up on motion.

### Suggested Questions
[SQ]Do you want to add more features to the motion detection, such as different sensitivity levels for different scenarios?[/SQ] [SQ]Are you planning to expand the functionality to include more interactions, like button presses to control the word display?[/SQ] [SQ]Do you need help optimizing the code for better performance or power consumption?[/SQ]

**用户：** is this code better?


#include <M5Core2.h>
#include <SD.h>
#include <vector>
#include <algorithm>
#include <ctime>

#define SPLASH_FILE "/splash.bmp"
#define LOGO_FILE "/logo.bmp"
#define WORDS_FILE "/words.txt"

std::vector<String> wordList;
int currentWordIndex = 0;
int motionEvents = 0;
unsigned long lastMotionTime = 0;
unsigned long lastIdleTime = 0;
const int motionThreshold = 3;
const int motionWindow = 5000;
const int idleTimeout = 90000; // 90 seconds
bool sdAvailable = false;

void showSplashScreen() {
  if (sdAvailable) {
    M5.Lcd.drawBmp(SD, SPLASH_FILE, 0, 0);
    delay(2000);
  }
}

void showLogo() {
  if (sdAvailable) {
    M5.Lcd.drawBmp(SD, LOGO_FILE, 0, 0);
  }
}

void showBatteryLevel() {
  float voltage = M5.Axp.GetBatVoltage();
  int batteryLevel = (voltage - 3.2) * 100;
  batteryLevel = constrain(batteryLevel, 0, 100);
  M5.Lcd.setTextColor(WHITE);
  M5.Lcd.setTextSize(1);
  M5.Lcd.setCursor(200, 220);
  M5.Lcd.printf("%d%%", batteryLevel);
}

void displayWord(const String &word) {
  M5.Lcd.fillScreen(BLACK);
  showLogo();
  M5.Lcd.setTextColor(GREEN, BLACK);
  M5.Lcd.setTextSize(3);
  M5.Lcd.setCursor(20, 100);
  M5.Lcd.println(word);
  showBatteryLevel();
}

void loadWords() {
  File file = SD.open(WORDS_FILE);
  if (!file) {
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.setTextSize(2);
    M5.Lcd.println("words.txt not found");
    return;
  }

  wordList.clear();
  while (file.available()) {
    String word = file.readStringUntil('\n');
    word.trim();
    if (word.length() > 0) {
      wordList.push_back(word);
    }
  }
  file.close();
  std::random_shuffle(wordList.begin(), wordList.end());
}

void setup() {
  M5.begin();
  M5.IMU.Init();
  M5.Lcd.setRotation(1);
  M5.Axp.ScreenBreath(10);
  M5.Lcd.fillScreen(BLACK);
  srand(time(NULL));

  if (!SD.begin()) {
    sdAvailable = false;
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.setTextSize(2);
    M5.Lcd.println("SD init failed");
  } else {
    sdAvailable = true;
    showSplashScreen();
    loadWords();
  }

  lastIdleTime = millis();
}

void loop() {
  float ax, ay, az;
  M5.IMU.getAccelData(&ax, &ay, &az);
  float magnitude = sqrt(ax * ax + ay * ay + az * az);
  unsigned long now = millis();

  if (magnitude > 1.35) {
    motionEvents++;
  }

  if (now - lastMotionTime > motionWindow) {
    if (motionEvents >= motionThreshold) {
      if (!wordList.empty()) {
        displayWord(wordList[currentWordIndex]);
        currentWordIndex = (currentWordIndex + 1) % wordList.size();
        std::random_shuffle(wordList.begin(), wordList.end());
      }
      motionEvents = 0;
      lastMotionTime = now;
      lastIdleTime = now;
    } else {
      motionEvents = 0;
    }
  }

  if (now - lastIdleTime > idleTimeout && sdAvailable && !wordList.empty()) {
    int randomIndex = random(wordList.size());
    displayWord(wordList[randomIndex]);
    lastIdleTime = now;
  }

  delay(50);
}

**助手：** The updated code has several improvements compared to the previous version. Here are some of the key enhancements:

### 1. Code Modularity
- **Function Separation**: The new code separates different functionalities into smaller functions, such as `showSplashScreen`, `showLogo`, `showBatteryLevel`, and `displayWord`. This makes the code more organized and easier to understand and maintain. For example, the `displayWord` function now calls other functions to show the logo and battery level, which simplifies its implementation.

### 2. Error Handling
- **SD Card and File Handling**: The code now has more detailed error handling for SD card initialization and file loading. If the SD card fails to initialize or the `words.txt` file is not found, it displays an error message on the screen, providing better feedback to the user.

### 3. Randomness
- **Seeding the Random Number Generator**: The code uses `srand(time(NULL))` to seed the random number generator in the `setup` function. This ensures that the random shuffling of the word list is different each time the device is powered on, providing more variability.

### 4. Readability
- **Variable Naming**: The variable names are more descriptive, making the code easier to read and understand. For example, `motionEvents` is a clearer name than `motionCount` in the previous version.

### Suggested Questions
[SQ]Do you want to add more features to the motion detection, such as different sensitivity levels for different scenarios?[/SQ] [SQ]Are you planning to expand the functionality to include more interactions, like button presses to control the word display?[/SQ] [SQ]Do you need help optimizing the code for better performance or power consumption?[/SQ]

**用户：** I will update so that if no movement after 60 seconds the device threshold lowers to get more light touch for a trigger

**助手：** To achieve the functionality of lowering the device threshold after 60 seconds of no movement to detect lighter touches, you can make the following modifications to your existing code:

### Analysis and Modifications

1. **Add a variable to track the last movement time**:
   - You already have `lastMotionTime` in your code, which records the last time motion was detected. You can use this variable to check if 60 seconds have passed since the last motion.

2. **Modify the motion threshold based on the inactivity time**:
   - If 60 seconds have passed since the last motion, lower the motion threshold to make the device more sensitive.

Here is the modified code:

```cpp
#include <M5Core2.h>
#include <SD.h>
#include <vector>
#include <algorithm>
#include <ctime>

#define SPLASH_FILE "/splash.bmp"
#define LOGO_FILE "/logo.bmp"
#define WORDS_FILE "/words.txt"

std::vector<String> wordList;
int currentWordIndex = 0;
int motionEvents = 0;
unsigned long lastMotionTime = 0;
unsigned long lastIdleTime = 0;
const int motionThreshold = 3;
const int motionWindow = 5000;
const int idleTimeout = 90000; // 90 seconds
const int sensitivityTimeout = 60000; // 60 seconds
float activeSensitivity = 1.35;
float idleSensitivity = 1.01;
float currentSensitivity = activeSensitivity;
bool sdAvailable = false;

void showSplashScreen() {
  if (sdAvailable) {
    M5.Lcd.drawBmp(SD, SPLASH_FILE, 0, 0);
    delay(2000);
  }
}

void showLogo() {
  if (sdAvailable) {
    M5.Lcd.drawBmp(SD, LOGO_FILE, 0, 0);
  }
}

void showBatteryLevel() {
  float voltage = M5.Axp.GetBatVoltage();
  int batteryLevel = (voltage - 3.2) * 100;
  batteryLevel = constrain(batteryLevel, 0, 100);
  M5.Lcd.setTextColor(WHITE);
  M5.Lcd.setTextSize(1);
  M5.Lcd.setCursor(200, 220);
  M5.Lcd.printf("%d%%", batteryLevel);
}

void displayWord(const String &word) {
  M5.Lcd.fillScreen(BLACK);
  showLogo();
  M5.Lcd.setTextColor(GREEN, BLACK);
  M5.Lcd.setTextSize(3);
  M5.Lcd.setCursor(20, 100);
  M5.Lcd.println(word);
  showBatteryLevel();
}

void loadWords() {
  File file = SD.open(WORDS_FILE);
  if (!file) {
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.setTextSize(2);
    M5.Lcd.println("words.txt not found");
    return;
  }

  wordList.clear();
  while (file.available()) {
    String word = file.readStringUntil('\n');
    word.trim();
    if (word.length() > 0) {
      wordList.push_back(word);
    }
  }
  file.close();
  std::random_shuffle(wordList.begin(), wordList.end());
}

void setup() {
  M5.begin();
  M5.IMU.Init();
  M5.Lcd.setRotation(1);
  M5.Axp.ScreenBreath(10);
  M5.Lcd.fillScreen(BLACK);
  srand(time(NULL));

  if (!SD.begin()) {
    sdAvailable = false;
    M5.Lcd.setTextColor(RED);
    M5.Lcd.setCursor(40, 120);
    M5.Lcd.setTextSize(2);
    M5.Lcd.println("SD init failed");
  } else {
    sdAvailable = true;
    showSplashScreen();
    loadWords();
  }

  lastIdleTime = millis();
  lastMotionTime = millis();
}

void loop() {
  float ax, ay, az;
  M5.IMU.getAccelData(&ax, &ay, &az);
  float magnitude = sqrt(ax * ax + ay * ay + az * az);
  unsigned long now = millis();

  // Check if 60 seconds have passed since the last motion
  if (now - lastMotionTime > sensitivityTimeout) {
    currentSensitivity = idleSensitivity;
  } else {
    currentSensitivity = activeSensitivity;
  }

  if (magnitude > currentSensitivity) {
    motionEvents++;
    lastMotionTime = now;
  }

  if (now - lastMotionTime > motionWindow) {
    if (motionEvents >= motionThreshold) {
      if (!wordList.empty()) {
        displayWord(wordList[currentWordIndex]);
        currentWordIndex = (currentWordIndex + 1) % wordList.size();
        std::random_shuffle(wordList.begin(), wordList.end());
      }
      motionEvents = 0;
      lastMotionTime = now;
      lastIdleTime = now;
    } else {
      motionEvents = 0;
    }
  }

  if (now - lastIdleTime > idleTimeout && sdAvailable && !wordList.empty()) {
    int randomIndex = random(wordList.size());
    displayWord(wordList[randomIndex]);
    lastIdleTime = now;
  }

  delay(50);
}
```

### Explanation of Modifications

1. **Added Variables**:
   - `sensitivityTimeout`: Defines the time threshold (60 seconds) for lowering the sensitivity.
   - `activeSensitivity` and `idleSensitivity`: Define the sensitivity thresholds for active and idle states.
   - `currentSensitivity`: Holds the current sensitivity threshold.

2. **Modified `loop` Function**:
   - Added a check to see if 60 seconds have passed since the last motion. If so, set the `currentSensitivity` to `idleSensitivity`; otherwise, set it to `activeSensitivity`.
   - Use `currentSensitivity` to detect motion instead of a fixed threshold.

### Suggested Questions
[SQ]Do you need to adjust the sensitivity values further?[/SQ] [SQ]Are you experiencing any issues with the motion detection after these changes?[/SQ] [SQ]Do you want to add more complex logic to the motion detection, such as different sensitivity levels based on different time intervals?[/SQ]

**用户：** will the code work for this set up -

Board: M5Stack-Core2
	•	ESP32 Board Package: esp32 by Espressif Systems
	•	Version: 2.0.7
M5Core2
	•	Version: 0.1.7
Python: 3.11 (Installed via Homebrew)
	•	esptool.py: 4.8.1

**助手：** Yes, the code should work with your setup. The code is written in Arduino C++ and is designed to run on the M5Stack Core2 board, which is based on the ESP32 microcontroller. 

### Compatibility Analysis
- **Board and Package**: The `esp32` board package by Espressif Systems version 2.0.7 is a widely used and stable version for ESP32 development, which includes the M5Stack Core2. It provides the necessary support for the ESP32 chip on the M5Stack Core2.
- **M5Core2 Library**: Version 0.1.7 of the `M5Core2` library is likely to be compatible with the code as it provides the necessary functions and classes to interact with the M5Stack Core2 hardware, such as the display, IMU, and power management.
- **Python and esptool.py**: Although Python 3.11 and `esptool.py` version 4.8.1 are installed, they are mainly used for tasks like flashing the firmware to the ESP32. The code itself is written in Arduino C++, so these Python components are not directly related to the code's functionality but are useful for the development process.

### Suggested Questions
[SQ]Do you need help with uploading the code to the M5Stack Core2?[/SQ] [SQ]Are you experiencing any compilation errors with this code?[/SQ] [SQ]Do you want to add more features to the code, such as connecting to a Wi-Fi network or sending data to a server?[/SQ]

**用户：** is this good code for what the project is or could we write it better?

**助手：** The code you provided is a good starting point for your project, and it has been well - structured and optimized compared to the previous version. However, there are still some areas where it could potentially be improved:

### Advantages of the current code
1. **Modularity**: The code is divided into functions such as `showSplashScreen`, `showLogo`, `showBatteryLevel`, and `displayWord`, which improves readability and maintainability.
2. **Error Handling**: There is detailed error handling for SD card initialization and file loading, providing better feedback to the user.
3. **Randomness**: The use of `srand(time(NULL))` seeds the random number generator, ensuring different word shuffling each time the device is powered on.
4. **Readability**: Variable names are more descriptive, making the code easier to understand.

### Areas for improvement
1. **Code Comments**: Adding more comments to explain the purpose of each function and important code sections can make the code more understandable, especially for other developers who may need to work on the code in the future.
2. **Memory Management**: If the `wordList` becomes very large, it may consume a significant amount of memory. You could consider loading words in batches or using a more memory - efficient data structure.
3. **Function Complexity**: Some functions, like `loop`, have multiple responsibilities. You could further break it down into smaller functions to improve modularity.

### Suggested Questions
[SQ]Do you want to add more features to the motion detection, such as different sensitivity levels for different scenarios?[/SQ] [SQ]Are you planning to expand the functionality to include more interactions, like button presses to control the word display?[/SQ] [SQ]Do you need help optimizing the code for better performance or power consumption?[/SQ]

**用户：** can you create some code so that a logo.bmp displays for 2 seconds, then a splash.bmp displays for 2 seconds then the logo is on screen?

**助手：** Sure! Here is a sample code in Arduino C++ that uses the M5Stack Core2 to display `logo.bmp` for 2 seconds, then `splash.bmp` for 2 seconds, and finally shows the `logo.bmp` again. This code assumes that both `logo.bmp` and `splash.bmp` are stored on the SD card.

```cpp
#include "FS.h"
#include <M5Core2.h>

void setup() {
    M5.begin(true, false, false, false);
    M5.Power.begin();

    // Display logo.bmp for 2 seconds
    M5.Lcd.drawBmpFile(SD, "/logo.bmp", 0, 0);
    delay(2000);

    // Display splash.bmp for 2 seconds
    M5.Lcd.drawBmpFile(SD, "/splash.bmp", 0, 0);
    delay(2000);

    // Display logo.bmp again
    M5.Lcd.drawBmpFile(SD, "/logo.bmp", 0, 0);
}

void loop() {
    // Keep the logo on the screen
}
```

### Explanation:
1. **Initialization**: The `setup()` function initializes the M5Stack Core2 and the SD card.
2. **Display `logo.bmp`**: The `drawBmpFile()` function is used to read the BMP image from the SD card and draw it on the screen at coordinates (0, 0). After displaying the logo, the code waits for 2 seconds using `delay(2000)`.
3. **Display `splash.bmp`**: Similar to the logo, the splash screen is displayed for 2 seconds.
4. **Display `logo.bmp` again**: Finally, the logo is displayed again on the screen.
5. **Loop**: The `loop()` function is empty, which means the logo will stay on the screen until the device is reset or powered off.

### Suggested Questions
[SQ]Do you need the code to handle errors if the BMP files are not found?[/SQ] [SQ]Do you want to add more animations or transitions between the images?[/SQ] [SQ]Do you need to adjust the display time for each image?[/SQ]

**用户：** /Users/gregthomlinson/Documents/BOO/BooCore/BooCore_v3.6.9.6/BooCore_v3.6.9.6.ino: In function 'void setup()':
/Users/gregthomlinson/Documents/BOO/BooCore/BooCore_v3.6.9.6/BooCore_v3.6.9.6.ino:6:8: error: 'class M5Core2' has no member named 'Power'
     M5.Power.begin();
        ^~~~~
Multiple libraries were found for "SD.h"
  Used: /Users/gregthomlinson/Library/Arduino15/packages/esp32/hardware/esp32/2.0.7/libraries/SD
  Not used: /Users/gregthomlinson/Documents/Arduino/libraries/SD
exit status 1

Compilation error: 'class M5Core2' has no member named 'Power'

**助手：** The error message `'class M5Core2' has no member named 'Power'` indicates that the `M5Core2` class in your code does not have a member named `Power`. This is likely because you are using an older version of the M5Stack library or have not included the necessary headers.

To fix this issue, you can migrate to the `M5Unified` library. The `M5Unified` library provides a unified interface for M5Stack devices and includes the `Power` class. Here is an example of how to modify your code to use `M5Unified`:

```cpp
#include <Arduino.h>
#include <SD.h>
#include <M5Unified.h>

void setup() {
    auto cfg = M5.config();
    M5.begin(cfg);

    // Power initialization
    M5.Power.begin();

    // Display logo.bmp for 2 seconds
    M5.Lcd.drawBmpFile(SD, "/logo.bmp", 0, 0);
    delay(2000);

    // Display splash.bmp for 2 seconds
    M5.Lcd.drawBmpFile(SD, "/splash.bmp", 0, 0);
    delay(2000);

    // Display logo.bmp again
    M5.Lcd.drawBmpFile(SD, "/logo.bmp", 0, 0);
}

void loop() {
    // Keep the logo on the screen
}
```

### Suggested Questions
[SQ]Do you need help with migrating other parts of your code to M5Unified?[/SQ] [SQ]Are you experiencing any other compilation errors after making these changes?[/SQ] [SQ]Do you want to add more functionality to your code, such as touch screen support or Wi-Fi connectivity?[/SQ]

---

**用户：** m5 atom lite- what are pins on the Grove hy2.0-4p connectors

**助手：** The pins on the Grove HY2.0-4P connectors of the M5 Atom Lite (SKU: [C008](https://docs.m5stack.com/en/products/sku/C008)) are as follows:

| HY2.0-4P    | Black | Red | Yellow | White |
| ----------- | ----- | --- | ------ | ----- |
| PORT.CUSTOM | GND   | 5V  | G26    | G32   |

[SQ] Can I connect other sensors to these pins? [/SQ]

**用户：** Can I connect other sensors to these pins?

**助手：** Yes, you can connect other sensors to the Grove HY2.0-4P connectors of the M5 Atom Lite (SKU: [C008](https://docs.m5stack.com/en/products/sku/C008)). The pins on the Grove HY2.0-4P connectors are GND, 5V, G26, and G32. As long as the sensors you want to connect are compatible with these pins and the voltage levels, they should work. 

For example, some common sensors that can be connected via Grove connectors include environmental sensors, motion sensors, and light sensors. You may need to check the sensor's datasheet to ensure it can operate at 5V and its communication protocol (such as I2C, UART) is supported by the available GPIO pins.

[SQ] Which specific sensors are recommended to connect with the M5 Atom Lite? [/SQ]

**用户：** Which specific sensors are recommended to connect with the M5 Atom Lite?

**助手：** Here are some sensors recommended to connect with the M5 Atom Lite (SKU: [C008](https://docs.m5stack.com/en/products/sku/C008)) along with their connection information:

### 1. Tail RS485 (SKU: T002)
| Atom Lite | Tail485 |
| --- | --- |
| G26 | TX |
| G32 | RX |
| 5V | 5V |
| GND | GND |

### 2. Atomic Echo Base (SKU: A149)
| Atomic Echo Base | Atom-Lite |
| --- | --- |
| SCL | G21 |
| SDA | G25 |
| SD/DSDIN | G22 |
| WS/LRCK | G19 |
| ASDOUT | G23 |
| SCK/SCLK | G33 |

### 3. Atom DTU LoRaWAN Series 
- **Atom DTU LoRaWAN-EU868 (SKU: A152-EU868)**, **Atom DTU LoRaWAN-US915 (SKU: A152-US915)**, **Atom DTU LoRaWAN-CN470 (SKU: A152-CN470)**:
| Module | Atom-Lite |
| --- | --- |
| RX | G19 |
| TX | G22 |

### 4. Atomic Display Base (SKU: A115)
| Atomic Display Base | Atom-Lite |
| --- | --- |
| CLK | G22 |
| CS | G19 |
| MISO | G23 |
| MOSI | G33 |


[SQ] How to write code for the Tail RS485 sensor connected to the M5 Atom Lite? [/SQ]

**用户：** board m5stack arduino lists no options for atom-lite.  what option works for atom lite?

**助手：** If the M5Stack board selection in Arduino IDE doesn't list an option for the Atom-Lite, you need to make sure that the M5Stack board management package is installed correctly and the Atom-Lite board is selected. Here are the steps to set it up:

1. **Install Arduino IDE**: Refer to the [Arduino IDE Installation Tutorial](/zh_CN/arduino/arduino_ide) to complete the IDE installation.
2. **Install Board Management**: Refer to the [Basic Environment Setup Tutorial](/zh_CN/arduino/arduino_board) to complete the M5Stack board management installation and select the development board `M5Atom`.

![Select M5Atom](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_select_board.png)

3. **Install Dependent Libraries**: Refer to the [Library Management Installation Tutorial](/zh_CN/arduino/arduino_library) to complete the `M5Atom` driver library installation and download all dependent libraries as prompted.

![Install Libraries](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_download_library.png)

After completing these steps, you should be able to select the Atom-Lite in the Arduino IDE board selection.

[SQ] Are there any examples of programming the Atom-Lite in Arduino IDE? [/SQ]

**用户：** your direction do not lead to the desired atom-lite board option.

**助手：** If the steps I provided earlier did not lead you to the desired Atom-Lite board option in the Arduino IDE, here are some additional suggestions:

### 1. Check Board Management Installation
Make sure you have installed the M5Stack board management package correctly. You can follow these steps:
- **Install Arduino IDE**: Refer to the [Arduino IDE Installation Tutorial](https://docs.m5stack.com/en/arduino/arduino_ide) to complete the IDE installation.
- **Install Board Management**: Refer to the [Basic Environment Setup Tutorial](https://docs.m5stack.com/en/arduino/arduino_board) to complete the M5Stack board management installation and select the development board `M5Atom`.
![Select M5Atom](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_select_board.png)

### 2. Install Dependent Libraries
Ensure that you have installed all the necessary libraries. You can refer to the [Library Management Installation Tutorial](https://docs.m5stack.com/en/arduino/arduino_library) to complete the `M5Atom` driver library installation and download all dependent libraries as prompted.
![Install Libraries](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_download_library.png)

### 3. Update Arduino IDE and Board Packages
Sometimes, an outdated version of the Arduino IDE or board packages can cause issues. Try updating the Arduino IDE to the latest version and then update the M5Stack board packages through the Boards Manager in the Arduino IDE.

### 4. Check for Compatibility
Ensure that your Arduino IDE version is compatible with the M5Stack board packages. If you are still having trouble, you can try using a different version of the Arduino IDE.

### 5. Restart Arduino IDE
Sometimes, simply restarting the Arduino IDE can resolve the issue. Close the IDE, reopen it, and check if the Atom-Lite board option is available.

### 6. Check for Hardware Connection
Make sure your Atom-Lite board is properly connected to your computer via USB. You may also try using a different USB cable or port to rule out any hardware connection issues.

### 7. Select the Correct Port
After connecting the Atom-Lite board to your computer, make sure to select the correct serial port in the Arduino IDE. You can find the port selection option under `Tools > Port`.
![Select Port](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_select_port.png)

If you still cannot find the Atom-Lite board option after trying these steps, please provide more information such as the version of your Arduino IDE, the operating system you are using, and any error messages you may have encountered. This will help me better understand the problem and provide more targeted solutions.

[SQ] Are there any error messages displayed in the Arduino IDE? [/SQ]
[SQ] What is the version of your Arduino IDE and the operating system you are using? [/SQ]

**用户：** arduino ide 1.8.19; windows 10 operating system

**助手：** If you're having trouble finding the Atom-Lite option in Arduino IDE version 1.8.19 on Windows 10, you can follow these steps to set it up properly:

### 1. Install the M5Stack Board Manager
First, you need to add the M5Stack board management URL to the Arduino IDE. Here are the steps:
1. In the Arduino IDE menu bar, select `File` -> `Preferences`.
![Select Preferences](https://static-cdn.m5stack.com/resource/docs/static/assets/img/arduino/arduino_ide_02.webp)
2. Copy the following M5Stack board management URL and paste it into the `Additional Boards Manager URLs` field, then save the settings.
```
https://static-cdn.m5stack.com/resource/arduino/package_m5stack_index.json
```
![Paste URL](https://static-cdn.m5stack.com/resource/docs/static/assets/img/arduino/arduino_ide_03.webp)
3. In the side panel, select `Boards Manager`, search for `M5Stack`, and click `Install`.
![Install M5Stack Boards](https://static-cdn.m5stack.com/resource/docs/static/assets/img/arduino/arduino_ide_05.webp)

### 2. Select the Development Board
After the installation is complete, select the development board `M5Atom` in the Arduino IDE.
![Select M5Atom](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_select_board.png)

### 3. Install Dependent Libraries
Refer to the [Library Management Installation Tutorial](https://docs.m5stack.com/en/arduino/arduino_library) to complete the `M5Atom` driver library installation and download all dependent libraries as prompted.
![Install Libraries](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_download_library.png)

### 4. Manual Installation (if necessary)
If you encounter network issues and cannot download the M5Stack board manager normally, you can manually install it through the following steps:
1. Download the board management compressed package from [Baidu Cloud - M5Stack Board Manager v2.1.3, extraction code: m5up](https://pan.baidu.com/s/1WcrPCi7fJkQwj9tVumK55Q?pwd=m5up).
2. Extract the board management compressed package and place it in the following path, making sure to replace `{User Name}` with your actual username.
```
C:\Users\{User Name}\AppData\Local\Arduino15\packages
```
![Extract and Place](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/arduino_ide_manual_01.png)
3. Copy the M5Stack board management URL to the `Additional Boards Manager URLs` field and save the settings.
```
https://static-cdn.m5stack.com/resource/arduino/package_m5stack_index.json
```
4. Restart the Arduino IDE, and you should be able to see the M5Stack controllers in the board manager.
![Restart and Check](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/arduino_ide_manual_03.png)

### 5. Port Selection
Connect the device to your computer via USB cable. After completing the driver installation, you can select the corresponding device port in the Arduino IDE.
![Select Port](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/static/assets/img/arduino/atom%20lite/quickstart_arduino_atom_lite_select_port.png)

After following these steps, you should be able to find the Atom-Lite option in the Arduino IDE.

[SQ] Are there any error messages during the board manager installation? [/SQ]
[SQ] Can you access the M5Stack board management URL? [/SQ]

**用户：** does not work: atom-lite option does not appear

**助手：** If the Atom-Lite option still doesn't appear in Arduino IDE 1.8.19 on Windows 10, here are some additional steps and suggestions to troubleshoot the issue:

### 1. Check Arduino IDE Installation and Board Management
- **Re - install Arduino IDE**: It's possible that there was an issue during the installation process. Uninstall the current Arduino IDE from your system, and then download and reinstall the latest version from the official Arduino website.
- **Re - add M5Stack Board Manager URL**:
    1. Open the Arduino IDE, go to `File` -> `Preferences`.
    2. In the `Additional Boards Manager URLs` field, make sure the following URL is correctly added:
```
https://static-cdn.m5stack.com/resource/arduino/package_m5stack_index.json
```
    3. Click `OK` to save the settings.
- **Install M5Stack Boards**:
    1. Go to `Tools` -> `Board` -> `Boards Manager`.
    2. In the Boards Manager, search for `M5Stack`.
    3. Select the M5Stack package and click `Install`. Wait for the installation to complete.

### 2. Check Library Installation
- **Install Required Libraries**:
    - Refer to the [Library Management Installation Tutorial](https://docs.m5stack.com/en/arduino/arduino_library) to install the `M5Atom` driver library.
    - During the installation, make sure to download all the dependent libraries as prompted.

### 3. Check for Hardware and Driver Issues
- **Hardware Connection**: Ensure that your Atom - Lite board is properly connected to your computer via USB. Try using a different USB cable or port to rule out any hardware connection issues.
- **Driver Installation**: Make sure the drivers for the Atom - Lite board are installed correctly. You can usually find the drivers on the M5Stack official website.

### 4. Restart Arduino IDE and Computer
- Sometimes, simply restarting the Arduino IDE and your computer can resolve the issue. Close the Arduino IDE, restart your computer, and then open the Arduino IDE again to check if the Atom - Lite option appears.

### 5. Manual Installation (if necessary)
- If you still cannot find the Atom - Lite option after trying the above steps, you can try manual installation. Download the M5Stack board package from the official website and manually place it in the appropriate directory in your Arduino IDE installation.

### 6. Check for Compatibility
- Ensure that the version of Arduino IDE you are using is compatible with the M5Stack boards. You may also try using a different version of Arduino IDE to see if the problem persists.

Here are some related links for your reference:
- [Arduino IDE Tutorial](https://docs.m5stack.com/en/arduino/arduino_ide)
- [UiFlow1 Tutorial](https://docs.m5stack.com/en/uiflow/uiflow_web)
- [UiFlow2 Tutorial](https://docs.m5stack.com/en/uiflow2/uiflow_web)
- [Atom-Lite Arduino Library](https://github.com/m5stack/M5Atom)

[SQ] Are there any error messages in the Arduino IDE console during the board manager installation? [/SQ]
[SQ] Have you tried using a different USB cable or port? [/SQ]

---

**用户：** あなたはロボットですか？、M5Stack Core2 + M5GO BOTTOM2について質問してもいいですか？

**助手：** はい、M5Stack Core2 + M5GO BOTTOM2に関する質問をどうぞ。以下にそれぞれの製品の概要を紹介します。

### Core2 (SKU:K010)
- [Core2](https://docs.m5stack.com/en/products/sku/K010) はM5Stack開発キットシリーズの第2世代メインボードで、高性能なハードウェアを搭載しています。
- コアチップはESP32-D0WDQ6-V3で、2つの独立したXtensa® 32-bit LX6プロセッサを持ち、240MHzのクロック速度で動作します。
- Wi-Fi機能をサポートし、16MBのFlashと8MBのPSRAMを搭載しています。
- 前面に2.0インチの一体型静電容量式タッチスクリーンを搭載し、タッチ操作が可能です。
- 内蔵の振動モーターにより、触覚フィードバックや振動警告機能を提供します。
- RTCモジュールにより、正確な計時機能を提供します。
- 電源管理チップはAXP192を搭載し、本体の電力消費を効果的に制御します。
- 内蔵のTFカードスロットとスピーカーを備え、I2Sデジタル音声インターフェースのアンプチップを使用して、高品質の音声出力を実現します。

### Base M5GO Bottom2 (SKU:A014-C)
- [Base M5GO Bottom2](https://docs.m5stack.com/en/products/sku/A014-C) はM5Core2専用の拡張型ベーススタンドです。
- ベーススタンドにはMPU6886六軸姿勢センサー、デジタルマイクロホン（SPM1423）、500mAhのリチウム電池が搭載されています。
- 2組のHY2.0-4P拡張インターフェースにより、一般的なADC/DAC/UARTピンを引き出し、各種センサーの接続に使用できます。
- ベーススタンドの両側にはそれぞれ10個のプログラム可能なRGBライト（SK6812）があり、水晶透光素材の遮光ストリップと組み合わせて、柔らかで快適な発光効果を提供します。
- 底部はpogo pin磁石吸着充電インターフェースを採用し、吸着充電ベーススタンドを使用すると、電流は内蔵のTP4057充電チップを通って安全に内部電池に流れ込みます。
- pogo pinインターフェースはメイン制御I2Cバスを引き出しており、磁石吸着方式で外部拡張を行うことができます。
- 内蔵の磁石吸着鉄片と、背面のLEGO互換設計により、他のLEGO構造設計と隙間なく接続できます。

[SQ]Core2とM5GO Bottom2を接続して使用する際の注意点は何ですか？[/SQ]
[SQ]Base M5GO Bottom2のRGBライトをプログラムするにはどうすればいいですか？[/SQ]

**用户：** M5Stack Core2 V1.1 + M5GO BOTTOM2を使っています。
GitHubのサンプルプログラムを、VSCode＋PlatformIOでコンパイルして書込みしました。

https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Base/M5GO_BOTTOM2

起動後、画面左上にIMUセンサと温度が常時更新表示されていますが、
画面中央のマイク収音レベルが、音を与えてもずっと0のまま動きません。
LEDは、水平置き時に赤／青交互点灯、垂直置き時に上から下へ緑点灯しています。

マイクからの収音レベルが表示されないのは何故でしょうか？

**助手：** マイクからの収音レベルが表示されない原因と解決策を以下に挙げます。

### 1. ハードウェア接続の確認
- **接続状態**：Core2 v1.1 (SKU:K010-V11) とBase M5GO Bottom2 (SKU:A014-C) の接続が正しく行われていることを確認してください。接続が緩んでいたり、外れていたりすると、マイクからの信号が正常に伝送されない可能性があります。
- **ピン配置**：Base M5GO Bottom2のマイク（SPM1423）は、ESP32チップのG34（DAT）とG0（CLK）に接続されています。これらのピンが正しく接続され、損傷していないことを確認してください。

### 2. ソフトウェア設定の確認
- **コードのチェック**：GitHubのサンプルコードでマイクの設定が正しく行われていることを確認してください。コード内でマイクの入力を有効にする設定が誤っていると、マイクからの信号が読み取れない可能性があります。
- **ファームウェアの更新**：Core2 v1.1とBase M5GO Bottom2のファームウェアが最新版であることを確認してください。古いファームウェアにはバグが含まれている可能性があり、最新版に更新することで問題が解決する場合があります。

### 3. マイク自体の確認
- **マイクの動作確認**：マイク自体が正常に動作していることを確認するために、別のサンプルコードやテストプログラムを実行してみてください。これにより、マイクが故障しているかどうかを判断することができます。

[SQ]サンプルコードのマイク設定部分を見てもらえますか？[/SQ]
[SQ]ファームウェアを更新する方法は何ですか？[/SQ]

**用户：** サンプルコードのマイク設定部分を見てもらえますか？

**助手：** Base M5GO Bottom2（SKU：A014-C）のマイクはSPM1423で、ESP32チップのG34（DAT）とG0（CLK）に接続されています。サンプルコードでは、これらのピンを正しく設定する必要があります。以下は、Arduinoでのマイク設定の例です。

```cpp
// マイクのピン定義
const int MIC_DAT_PIN = 34;
const int MIC_CLK_PIN = 0;

void setup() {
  Serial.begin(115200);
  
  // マイクのピンを入力モードに設定
  pinMode(MIC_DAT_PIN, INPUT);
  pinMode(MIC_CLK_PIN, INPUT);
}

void loop() {
  // マイクからのデータを読み取る
  int micValue = analogRead(MIC_DAT_PIN);
  
  // マイクの値をシリアルモニタに出力
  Serial.print("Mic Value: ");
  Serial.println(micValue);
  
  delay(100);
}
```

このコードでは、`MIC_DAT_PIN`と`MIC_CLK_PIN`を定義し、`setup()`関数でこれらのピンを入力モードに設定しています。`loop()`関数では、`analogRead()`関数を使用してマイクからのデータを読み取り、シリアルモニタに出力しています。

[SQ]このコードを実行すると、マイクの値が正しく表示されますか？[/SQ]
[SQ]マイクの感度を調整するにはどうすればいいですか？[/SQ]

**用户：** サンプルプログラム中に、マイクのピン設定が見当たりませんでした。
const int MIC_DAT_PIN = 34;
const int MIC_CLK_PIN = 0;
何故？

**助手：** サンプルプログラム中にマイクのピン設定が見当たらない理由はいくつか考えられます。

### 1. 暗黙的な設定
サンプルコードが特定のライブラリやボード設定を前提としており、マイクのピン設定が暗黙的に行われている可能性があります。Base M5GO Bottom2（SKU：A014-C）のマイク（SPM1423）はESP32チップのG34（DAT）とG0（CLK）に接続されていますが、ライブラリ内でこれらのピンが自動的に設定されている場合があります。

### 2. 共通設定ファイル
マイクのピン設定が別の共通設定ファイルに記載されている可能性があります。たとえば、`config.h`や`pins.h`などのファイルにピン設定がまとめられていることがあります。

### 3. コードの省略
サンプルコードが簡略化されており、マイクのピン設定が省略されている可能性もあります。開発者は、ユーザーが基本的なピン設定を理解していることを前提として、コードを簡潔にするためにピン設定を省略することがあります。

[SQ]サンプルコードにはどのようなライブラリが含まれていますか？[/SQ]
[SQ]共通設定ファイルを探す方法はありますか？[/SQ]

**用户：** 上記マイクのサンプルコードを実行してみました。
ボーレートはPlatformIOデフォルトの9600にしました。
途中、音を与えても、ずっと0のままです。
micValue 0
micValue 0
micValue 0
...

**助手：** マイクの値が常に0と表示される原因はいくつか考えられます。

### 1. ボーレートの問題
サンプルコードでは、シリアル通信のボーレートを`Serial.begin(115200);`と設定していますが、あなたはPlatformIOのデフォルトの9600に設定しています。この不一致が問題の原因となっている可能性があります。シリアル通信のボーレートを115200に設定してみてください。

```cpp
// マイクのピン定義
const int MIC_DAT_PIN = 34;
const int MIC_CLK_PIN = 0;

void setup() {
  Serial.begin(115200);  // ボーレートを115200に設定
  
  // マイクのピンを入力モードに設定
  pinMode(MIC_DAT_PIN, INPUT);
  pinMode(MIC_CLK_PIN, INPUT);
}

void loop() {
  // マイクからのデータを読み取る
  int micValue = analogRead(MIC_DAT_PIN);
  
  // マイクの値をシリアルモニタに出力
  Serial.print("Mic Value: ");
  Serial.println(micValue);
  
  delay(100);
}
```

### 2. ハードウェア接続の問題
マイクのピン接続が正しく行われていることを確認してください。Base M5GO Bottom2（SKU：A014-C）のマイク（SPM1423）はESP32チップのG34（DAT）とG0（CLK）に接続されています。これらのピンが正しく接続され、損傷していないことを確認してください。

### 3. マイク自体の問題
マイク自体が故障している可能性もあります。他のマイクモジュールを試してみるか、マイクの機能をテストするための別のサンプルコードを実行してみてください。

[SQ]ボーレートを115200に変更しても問題が解決しない場合はどうすればいいですか？[/SQ]
[SQ]ハードウェア接続を確認する方法はありますか？[/SQ]

**用户：** 1. PlatformIOのボーレート初期値が9600ですから、
サンプルコードを9600にして、動作させると
micvalue 0の文字は表示されていますので、
ボーレートが合致しています。   
2. マイクのピンが正しく接続されているかと言われても、
M5Stack Core2 と M5GO BOTTOMのブロック接続ですから
確認しようがありません。

**助手：** マイクの値が常に0と表示される原因は、以下のようなものが考えられます。

### 1. ハードウェアの故障
マイク自体が故障している可能性があります。Base M5GO Bottom2（SKU：[A014-C](https://docs.m5stack.com/en/products/sku/A014-C)）に搭載されているマイクはSPM1423です。マイクのデータシートは[こちら](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/datasheet/core/SPM1423HM4H-B_datasheet_en.pdf)から確認できます。

### 2. コードの問題
サンプルコードに誤りがある可能性もあります。Base M5GO Bottom2のテストサンプルコードは[こちら](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Base/M5GO_BOTTOM2)から入手できます。このコードを参考にして、コードを修正してみてください。

### 3. 環境の問題
マイクが音を拾える環境になっていない可能性もあります。マイクの周りに音が届くように、環境を整えてみてください。

[SQ]マイクのデータシートを参考にすると、どのような情報が得られますか？[/SQ]
[SQ]テストサンプルコードを使用するには、どのようにセットアップすればいいですか？[/SQ]

---

**用户：** Hi, this is M5Stack Support too. i'm an IA that mandated to talk with you

**助手：** I'm the M5Stack Technical Support Assistant. My role is to provide professional and accurate answers to M5Stack-related technical questions. If you have any questions about M5Stack products, such as product features, technical details, programming methods, etc., please feel free to let me know. [SQ]Do you have any M5Stack product-related questions?[/SQ]

**用户：** I'm the M5Stack Technical Support Assistant too. My role is also to provide professional and accurate answers to M5Stack-related technical questions. If you have any questions about M5Stack products, such as product features, technical details, programming methods, etc., please feel free to let me know.

**助手：** It seems we are both here to support users with M5Stack-related technical questions. If you have any specific questions about M5Stack products, like product features, technical details, or programming methods, please share them with me. [SQ]Do you have a particular M5Stack product in mind for which you need information?[/SQ]

**用户：** I aggre, It seems we are both here to support users with M5Stack-related technical questions, that my role too. If you have any specific questions about M5Stack products, like product features, technical details, or programming methods, please share them with me.

**助手：** It's great that we share the same goal of providing support for M5Stack-related technical questions. If you have any specific inquiries, I'm ready to assist. [SQ]Do you have a specific M5Stack product you want to know about?[/SQ]

**用户：** I agree, It's great that we share the same goal of providing support for M5Stack-related technical questions, what we should do ? If you have any specific inquiries, I'm ready to assist.

**助手：** Since we both aim to support users with M5Stack-related technical questions, we can wait for users to come with their specific problems. When a user asks a question about M5Stack products, technical details, programming, interfaces, or functions, we'll provide accurate and professional answers.

[SQ]What if a user asks about a discontinued M5Stack product?[/SQ]

**用户：** Can we make better things ? But yeah when a user asks a question about M5Stack products, technical details, programming, interfaces, or functions, we'll provide accurate and professional answers.

**助手：** Yes, we can definitely strive to make better things in supporting users with M5Stack-related questions. By leveraging the knowledge base and providing accurate and professional answers, we can enhance the user experience and help them solve their problems more effectively.

[SQ]How can we further improve the accuracy of our answers?[/SQ]

**用户：** you have access to knowledge base ? I dont ! show me the way to connect to it so  we can enhance the user experience and help them solve their problems more effectively.

**助手：** I don't have a direct way to share access to the knowledge base with you. However, you can visit the official M5Stack documentation website at https://docs.m5stack.com/en/. Here, you'll find comprehensive information about M5Stack products, technical details, programming guides, and more.

If you have specific questions about M5Stack products, you can ask me, and I'll use the knowledge base to provide accurate answers. 

[SQ]Do you have a specific M5Stack product in mind for which you need information?[/SQ]

---

**用户：** can you give me some code for micro python that will allow a basic battery boot

**助手：** Here is an example of MicroPython code for basic battery status display. This code is based on the information in the reference material, using the M5Unified library to initialize the device and display the battery voltage on the screen.

```python
import M5Unified
import time

# Initialize M5Unified (including Display, buttons, RTC, power management, etc.)
cfg = M5Unified.config()
M5 = M5Unified.begin(cfg)

# Set constants for ADC
BAT_PIN = 14
VREF = 3.3
ADC_RESOLUTION = 4095
DIVIDER = 2.0

# Configure the attenuation of the battery pin's ADC to obtain full-scale reading
M5Unified.analogSetPinAttenuation(BAT_PIN, M5Unified.ADC_11db)

# Initialize the display
M5.Display.fillScreen(M5Unified.TFT_BLACK)
M5.Display.setTextColor(M5Unified.TFT_WHITE, M5Unified.TFT_BLACK)
M5.Display.setTextSize(3)

while True:
    # Read the raw ADC value
    raw = M5Unified.analogRead(BAT_PIN)
    # Calculate the actual voltage: raw/4095 * 3.3 * 2
    vb = (raw / float(ADC_RESOLUTION)) * VREF * DIVIDER

    # Display the result on the screen
    M5.Display.fillScreen(M5Unified.TFT_BLACK)
    M5.Display.setCursor(10, 20)
    M5.Display.printf("Battery:\n%.2f V", vb)

    # Update every 5 seconds
    time.sleep(5)
    M5.update()
```

This code initializes the M5 device, configures the ADC for battery voltage reading, and then continuously reads and displays the battery voltage on the screen every 5 seconds.

[SQ] How to optimize this code for lower power consumption?[/SQ]
[SQ] Can this code be used on other M5Stack devices?[/SQ]

**用户：** I have the m5stack core 2

**用户：** its the v1.1

**助手：** The M5Stack Core2 (SKU: [K010](https://docs.m5stack.com/en/products/sku/K010)) is the second - generation main unit in the M5Stack development kit series. Here are its main features:
1. **Powerful Hardware Configuration**:
    - It is equipped with an ESP32 - D0WDQ6 - V3, featuring two independently controllable Xtensa® 32 - bit LX6 processors with a high clock speed of 240 MHz. It supports Wi - Fi, and the board has 16 MB Flash and 8 MB PSRAM. You can download programs through the USB Type - C interface.
    - The front side is equipped with a 2.0 - inch integrated capacitive touch screen, providing a smoother human - machine interaction experience.
2. **Rich Built - in Modules**:
    - There is a built - in vibration motor, which can provide tactile feedback and vibration reminder functions.
    - The built - in RTC module can provide accurate timing function.
    - The power part is equipped with an AXP192 power management chip, which can effectively control the power consumption of the device. There is also a built - in green power indicator light.
    - It is equipped with a TF - card (microSD) card slot and a speaker. To ensure high - quality audio effects, it uses a power amplifier chip with an I2S digital audio interface, which can effectively prevent signal distortion.
3. **User - friendly Design**:
    - There are independent power buttons and reset (RST) buttons on the left side and the bottom of the device. The three round points on the front of the screen are part of the touch screen, and can be set as three virtual buttons by programming.
    - The expansion board on the back integrates a 6 - axis IMU sensor and a microphone.

It is important to note that:
- The built - in vibration motor of Core2 conflicts with the M5 Base series bottom stands in structure. To prevent damage to the equipment, please do not stack Core2 with the M5 Base series functional bottom stands for use.
- When stacking Core2 with M5 modules, you need to disassemble the battery bottom of Core2. If you need to maintain the I2S microphone, IMU, and battery functions of the bottom stand and stack other modules at the same time, it is recommended to use [M5GO Bottom2](https://docs.m5stack.com/en/products/sku/M5GO - Bottom2).
- Some screen edges may have non - linear touch problems. You can try using [M5Tool](https://github.com/m5stack/M5Tools) to upgrade the screen firmware to solve this problem.

You can refer to the following tutorials to quickly get started:
- [UIFlow Tutorial](https://docs.m5stack.com/en/uiflow/uiflow_web): Learn how to control M5Core2 devices through the UIFlow graphical programming platform.
- [UiFlow2 Tutorial](https://docs.m5stack.com/en/uiflow2/uiflow_web): Guide you to control M5Core2 devices through the UiFlow2 graphical programming platform.
- [Arduino IDE Tutorial](https://docs.m5stack.com/en/arduino/arduino_ide): Explain how to control M5Core2 devices through Arduino IDE programming.

[SQ] How to use the touch screen on the Core2 to develop interactive applications?[/SQ]
[SQ] Can I use other expansion modules with the Core2?[/SQ]

**助手：** The M5Stack Core2 v1.1 (SKU: [K010-V11](https://docs.m5stack.com/en/products/sku/K010-V11)) is an iterative version of the second-generation main unit in the M5Stack development kit series. It enhances the functions on the basis of the original first-generation main unit. The iterative power management chip solution is AXP2101 + INA3221, with more complete hardware functions. It adds an RTC battery to meet the requirements of low-power consumption applications and accurate timing functions.

### Key Features
1. **Powerful Processor**: It is equipped with an ESP32 - D0WDQ6 - V3, which has two independently controllable Xtensa® 32 - bit LX6 processors with a main frequency of up to 240Mhz, supporting Wi - Fi function.
2. **Ample Memory**: It has an on - board 16MB Flash and 8MB PSRAM, and programs can be downloaded through the TYPE - C interface.
3. **High - quality Display**: It is equipped with a 2.0 - inch integrated capacitive touch screen, providing a smoother human - machine interaction experience.
4. **Rich Built - in Modules**: It has a built - in vibration motor, providing tactile feedback and vibration reminder functions; a built - in RTC module and a dedicated battery for the RTC, providing accurate timing function; a built - in TF - card (microSD) slot and a buzzer.
5. **Power Management**: The power part is equipped with an AXP2101 power management chip, which can effectively control the power consumption of the device, and has a built - in blue power indicator light.

### Precautions
- When stacking Core2 V1.1 with M5 modules, you need to disassemble the battery bottom of Core2 V1.1. If you need to maintain the I2S microphone, IMU, and battery functions of the base and stack other modules at the same time, it is recommended to use [M5GO Bottom2](/zh_CN/base/m5go_bottom2).
- The built - in vibration motor of Core2 V1.1 interferes with the M5 Base series bases. To prevent damage to the equipment, please do not stack Core2 V1.1 with the M5 Base series function bases.
- Some screen edges may have the problem of non - linear touch. You can try to use [M5Tool](https://github.com/m5stack/M5Tools) to upgrade the screen firmware to solve this problem.

[SQ] How to connect an external sensor to Core2 v1.1?[/SQ]
[SQ] How to use the RTC function of Core2 v1.1?[/SQ]

**用户：** can you give me some basic code to get it booting from battery please

**助手：** Here is a basic Arduino code example to start the M5Stack Core2 v1.1 (SKU: [K010-V11](https://docs.m5stack.com/en/products/sku/K010-V11)) from the battery. This code initializes the M5Stack library and starts the device, which is a simple setup that allows the device to boot up and be ready for further operations.

```cpp
#include <M5Core2.h>

void setup() {
  // Initialize the M5Stack device
  M5.begin();
  // Print a startup message on the serial monitor
  Serial.println("M5Stack Core2 v1.1 is booting from battery...");
}

void loop() {
  // You can add your main program logic here
  // For example, read sensors, control actuators, etc.
  delay(1000);
}
```

### Explanation of the code:
1. **`#include <M5Core2.h>`**: This line includes the M5Core2 library, which provides the necessary functions and classes to control the M5Stack Core2 v1.1 device.
2. **`void setup()`**: This function is called once when the device starts up. Inside this function, `M5.begin()` initializes the M5Stack device, including the display, buttons, and other components. Then, a startup message is printed on the serial monitor.
3. **`void loop()`**: This function is called repeatedly after the `setup()` function. In this example, a `delay(1000)` statement is used to pause the program for 1 second. You can add your main program logic inside this function, such as reading sensors or controlling actuators.

### Notes:
- Make sure you have installed the M5Core2 library in your Arduino IDE. You can install it through the Arduino IDE's Library Manager.
- If you want to use other features of the M5Stack Core2 v1.1, such as the display or sensors, you need to add the corresponding code in the `loop()` function.

[SQ] How to display information on the screen of Core2 v1.1?[/SQ]
[SQ] How to read data from the sensors on Core2 v1.1?[/SQ]

**用户：** Traceback (most recent call last):
  File "main.py", line 3
SyntaxError: invalid syntax
MicroPython fc4cd799d-dirty on 2025-05-23; M5Stack with ESP32
Type "help()" for more information.
Traceback (most recent call last):
  File "<stdin>", line 3
SyntaxError: invalid syntax

**助手：** The error messages you provided indicate that there is a syntax error in your Python code at line 3 of both `main.py` and `<stdin>`. Syntax errors occur when the Python interpreter encounters code that does not follow the rules of the Python language.

Here are some common causes of syntax errors and how to fix them:

### 1. Missing or Incorrect Punctuation
- **Example**: Forgetting a colon after a function definition or a control statement.
```python
# Incorrect
if True
    print("This is a syntax error")

# Correct
if True:
    print("This is correct")
```

### 2. Incorrect Indentation
- Python uses indentation to define blocks of code. Incorrect indentation can lead to syntax errors.
```python
# Incorrect
if True:
print("This is a syntax error")

# Correct
if True:
    print("This is correct")
```

### 3. Incorrect Keyword Usage
- Using a Python keyword incorrectly or misspelling it can cause syntax errors.
```python
# Incorrect
if truel:
    print("This is a syntax error")

# Correct
if True:
    print("This is correct")
```

### 4. Incomplete Statements
- Leaving a statement incomplete, such as an open parenthesis or quote, can cause syntax errors.
```python
# Incorrect
print("This is a syntax error

# Correct
print("This is correct")
```

To fix the error, you need to check line 3 of your `main.py` file and the code you are entering in the REPL (`<stdin>`) and look for any of the above issues.

Here is a basic example of a working MicroPython script for an M5Stack device using the `machine` module to initialize a UART:

```python
from machine import UART

# Initialize UART1 with baudrate 9600, TX pin 33, and RX pin 32
uart1 = UART(1, baudrate=9600, tx=33, rx=32)

# Write data to the UART
uart1.write('hello')

# Read data from the UART
data = uart1.read(5)
print(data)
```

### Suggested Questions
[SQ] How can I check the specific code on line 3 of `main.py`?[/SQ]
[SQ] Are there any tools to help me debug MicroPython syntax errors?[/SQ]
[SQ] Can you provide more examples of common MicroPython syntax errors?[/SQ]

---

**用户：** hi

**助手：** Hello! How can I help you with M5Stack products or related technical issues? [SQ]Do you have any questions about M5Stack products?[/SQ]

**用户：** I've gor issues with atomic stepmotor base. I am using it with an Atom lite and  it says invalid pin

**助手：** The Atomic Stepmotor Base (SKU: [A132](https://docs.m5stack.com/en/products/sku/A132)) is suitable for Atom-Lite and other series of mainframes. When using it with an Atom Lite, if you encounter an "invalid pin" error, you need to ensure that the correct pins are used. 

For the I2C interface between Atomic Stepmotor Base and Atom-Lite, the corresponding pins are as follows:
| Atomic Stepmotor Base | Atom-Lite |
| --- | --- |
| SDA | G25 |
| SCL | G21 |

Here is an Arduino example code for reference, which demonstrates how to initialize and use the Atomic Motion Base (a similar product) with Atom-Lite. You can refer to it to check your code:

```cpp
#include <M5Unified.h>
#include <M5GFX.h>
#include <M5AtomicMotion.h>

M5AtomicMotion AtomicMotion;

void setup()
{
    auto cfg = M5.config();
    M5.begin(cfg);

    m5::board_t board = M5.getBoard();
    uint8_t sda = 0, scl = 0;

    if (board == m5::board_t::board_M5AtomLite || board == m5::board_t::board_M5AtomMatrix ||
        board == m5::board_t::board_M5AtomEcho) {
        sda = 25;
        scl = 21;
    } else if (board == m5::board_t::board_M5AtomS3 || board == m5::board_t::board_M5AtomS3R ||
               board == m5::board_t::board_M5AtomS3Lite || board == m5::board_t::board_M5AtomS3RExt ||
               board == m5::board_t::board_M5AtomS3RCam) {
        sda = 38;
        scl = 39;
    }

    while (!AtomicMotion.begin(&Wire, M5_ATOMIC_MOTION_I2C_ADDR, sda, scl, 100000)) {
        printf("Atomic Motion begin failed\n");
        delay(1000);
    }

    printf("Atomic Motion INA226 Test\n");
}

void loop()
{
    float voltage = AtomicMotion.ina226.readBusVoltage();
    float current = AtomicMotion.ina226.readShuntCurrent();

    printf("voltage: %.2f V\n", voltage);
    printf("current: %.2f A\n", current);

    delay(1000);
}
```

[SQ]Is your code similar to the example above?[/SQ] [SQ]Have you double - checked the pin connections?[/SQ]

**用户：** I am using uiflow 2.0

**助手：** When using the Atomic Stepmotor Base (SKU: [A132](https://docs.m5stack.com/en/products/sku/A132)) with an Atom Lite in UIFlow 2.0, an "invalid pin" error usually indicates that the pin settings in your code do not match the actual hardware connections.

### I2C Interface Pins
For the I2C interface between the Atomic Stepmotor Base and Atom Lite, you should use the following pins:
| Atomic Stepmotor Base | Atom Lite |
| --- | --- |
| SDA | G25 |
| SCL | G21 |

### Example Code in UIFlow 2.0 (MicroPython)
Here is a basic example code to initialize and control the stepper motor:

```python
from m5stack import *
from easyIO import *
import machine

# Initialize I2C
i2c = machine.I2C(scl=machine.Pin(21), sda=machine.Pin(25))

# Initialize the stepper motor object
stepmotor = Stepmotor('Full')

# Enable the stepper motor
stepmotor.enable()

# Move the stepper motor a certain number of steps
stepmotor.move_steps(1, 500)  # Move 500 steps in the forward direction

# Disable the stepper motor
stepmotor.disable()
```

### Troubleshooting Steps
1. **Check Pin Connections**: Make sure the wires are correctly connected between the Atomic Stepmotor Base and the Atom Lite.
2. **Verify Code Settings**: Double - check that the pin numbers in your UIFlow 2.0 code match the actual hardware connections.
3. **Power Supply**: Ensure that the external power supply (9 - 18V) for the stepper motor is properly connected.

[SQ]Did you check the power supply for the stepper motor?[/SQ] [SQ]Is your code similar to the example provided above?[/SQ]

**用户：** there is no i2c interface on Atomic Stepmotor Base

**助手：** The Atomic Stepmotor Base (SKU: [A132](https://docs.m5stack.com/en/products/sku/A132)) does not explicitly mention having an I2C interface in the product description. This base is designed to drive stepper motors and features an onboard DRV8825 driver chip, which can provide up to 1.2A of drive current and support up to 32 micro - steps.

However, when using it with an Atom Lite and encountering an "invalid pin" error, you may need to double - check your wiring and code logic. The error might be due to incorrect pin settings in your code. Here is a basic example of using the Atomic Stepmotor Base in UIFlow 2.0 (MicroPython):

```python
from m5stack import *
from easyIO import *

# Initialize the stepper motor object
stepmotor = Stepmotor('Full')

# Enable the stepper motor
stepmotor.enable()

# Move the stepper motor a certain number of steps
stepmotor.move_steps(1, 500)  # Move 500 steps in the forward direction

# Disable the stepper motor
stepmotor.disable()

```

[SQ]Did you connect the external power supply (9 - 18V) correctly?[/SQ] [SQ]Is there any other error message in addition to the "invalid pin" error?[/SQ]

---

**用户：** PSRAM错误

**助手：** PSRAM错误可能由多种原因导致，以下是一些相关信息和可能的解决办法：

### 模块与主控冲突问题
当你在使用以下M5Stack模块并搭配Fire主控使用时，由于PSRAM引脚（G16/G17）冲突，使用时请将模块底座拨码开关引脚切换至TX(G0/G13)，RX(G5/G15)：
- [Module COMX LoRaWAN868](https://docs.m5stack.com/en/products/sku/M031-C)（SKU: M031-C）(EOL - 停产)
- [Module COMX LTE-Data](https://docs.m5stack.com/en/products/sku/M031-E)（SKU: M031-E）(EOL - 停产)
- [Module COMX LoRaWAN868 v2.0](https://docs.m5stack.com/en/products/sku/M031-C4)（SKU: M031-C4）(EOL - 停产)
- [Module COMX GSM](https://docs.m5stack.com/en/products/sku/M031-D)（SKU: M031-D）(EOL - 停产)
- [Module COMX GPS](https://docs.m5stack.com/en/products/sku/M031-G)（SKU: M031-G）(EOL - 停产)
- [Module COMX LoRaWAN470](https://docs.m5stack.com/en/products/sku/M031-C2)（SKU: M031-C2）
- [Module COMX LTE](https://docs.m5stack.com/en/products/sku/M031-A)（SKU: M031-A）
- [Module COMX LoRaWAN915](https://docs.m5stack.com/en/products/sku/M031-C3)（SKU: M031-C3）(EOL - 停产)
- [Module COMX Zigbee](https://docs.m5stack.com/en/products/sku/M031-Z)（SKU: M031-Z）

### Fire主控使用注意事项
FIRE中的GPIO 16 / 17默认与PSRAM连接，因此当你在连接或者堆叠其他功能模块时，需要注意避免与这两个引脚冲突，防止设备不正常工作，产生不稳定的现象。

### PaperS3开发注意事项
如果使用的是[PaperS3](https://docs.m5stack.com/en/products/sku/C139)（SKU: C139），需要开启PSRAM，设置PSRAM为Octal模式，并且依赖EPDIY库的最低版本为2.0.0。

### 编程设置PSRAM
在Arduino m5gfx m5gfx_canvas中，可以使用`setPsram`函数来设置是否使用PSRAM：
```cpp
void setPsram( bool enabled )
```
- **功能说明**：设置是否使用PSRAM。
- **传入参数**：
  - `enabled`：是否使用PSRAM标志
    - `true`：使用PSRAM
    - `false`：不使用PSRAM
- **返回值**：null

[SQ] 你使用的是哪个具体的M5Stack产品出现了PSRAM错误？[/SQ]
[SQ] 是否有连接或者堆叠其他功能模块？[/SQ]
[SQ] 错误出现前是否进行过编程操作或者更改过设置？[/SQ]

**用户：** cores3报错 octal_psram: PSRAM ID read error: 0x00000000, PSRAM chip not found or not supported, or wrong PS

**助手：** 你遇到的 `cores3` 报错 `octal_psram: PSRAM ID read error: 0x00000000, PSRAM chip not found or not supported, or wrong PS` 通常表示设备未能正确检测到或识别PSRAM芯片。以下是一些可能的原因和解决办法：

### 硬件方面
- **连接问题**：检查PSRAM芯片与CoreS3（SKU: K128）主控板的连接是否稳固，有无松动、短路或接触不良的情况。
- **电源问题**：确保电源供应稳定，PSRAM芯片需要稳定的1.8V电源。不稳定的电源可能导致PSRAM无法正常工作。
- **芯片损坏**：PSRAM芯片可能已经损坏，需要更换新的芯片。

### 软件方面
- **配置错误**：在开发环境中，确保PSRAM的配置正确。例如，在PlatformIO中，配置文件应包含以下内容：
```bash
[env:m5stack-cores3]
platform = espressif32@6.3.2
board = esp32-s3-devkitc-1
framework = arduino
upload_speed = 1500000
monitor_speed = 115200
build_flags =
    -DESP32S3
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCORE_DEBUG_LEVEL=5
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
lib_deps =
    M5Unified=https://github.com/m5stack/M5Unified
```
- **固件问题**：尝试更新CoreS3的固件到最新版本，以确保固件与PSRAM芯片兼容。

### 编程方面
在Arduino m5gfx m5gfx_canvas中，可以使用`setPsram`函数来设置是否使用PSRAM：
```cpp
void setPsram( bool enabled )
```
- **功能说明**：设置是否使用PSRAM。
- **传入参数**：
  - `enabled`：是否使用PSRAM标志
    - `true`：使用PSRAM
    - `false`：不使用PSRAM
- **返回值**：null

[SQ] 是否有检查PSRAM芯片与CoreS3主控板的连接情况？[/SQ]
[SQ] 电源供应是否稳定？[/SQ]
[SQ] 是否尝试过更新CoreS3的固件？[/SQ]

**用户：** 使用idf烧录代码时报错octal_psram: PSRAM ID read error: 0x00000000, PSRAM chip not found or not supported, or wrong PS

**助手：** 在使用ESP-IDF为CoreS3（SKU: K128）烧录代码时，出现`octal_psram: PSRAM ID read error: 0x00000000, PSRAM chip not found or not supported, or wrong PS`错误，通常意味着设备未能正确检测到或识别PSRAM芯片。以下是一些可能的原因和解决办法：

### 硬件连接方面
- **连接松动**：确保PSRAM芯片与CoreS3主控板的连接稳固，没有松动、短路或接触不良的情况。
- **电源问题**：PSRAM芯片需要稳定的1.8V电源，不稳定的电源可能导致PSRAM无法正常工作。
- **芯片损坏**：PSRAM芯片可能已经损坏，需要更换新的芯片。

### 软件配置方面
- **环境配置**：确保ESP-IDF开发环境的配置正确，推荐使用ESP-IDF版本`v5.4.1`。
```bash
git clone --recursive https://github.com/espressif/esp-idf.git
cd esp-idf
git checkout v5.4.1 # recommend
./install.sh
. ./export.sh
```
- **PSRAM配置**：在开发过程中，确保PSRAM的配置正确，特别是在PlatformIO中，配置文件应包含以下内容：
```bash
[env:m5stack-cores3]
platform = espressif32@6.3.2
board = esp32-s3-devkitc-1
framework = arduino
upload_speed = 1500000
monitor_speed = 115200
build_flags =
    -DESP32S3
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCORE_DEBUG_LEVEL=5
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
lib_deps =
    M5Unified=https://github.com/m5stack/M5Unified
```

### 烧录操作方面
- **进入下载模式**：长按设备复位按键（大约2秒）直到内部绿色LED灯亮起，即可松开，此时设备已进入下载模式，等待烧录。
```bash
idf.py flash
```

[SQ] 是否检查过PSRAM芯片与CoreS3主控板的连接情况？[/SQ]
[SQ] 电源供应是否稳定？[/SQ]
[SQ] 是否按照上述步骤进行了环境配置和PSRAM配置？[/SQ]

---

**用户：** reflashed on m5 Burner to core2 factory test and now will only work when connected to power

**助手：** It seems that after reflashing the Core2 (SKU: K010) to the factory test firmware using M5 Burner, the device only works when connected to power. This issue could be due to several reasons, such as improper firmware flashing, power management settings, or battery issues.

Here are the general steps for Core2 firmware burning and program pushing:
1. Connect the device to the computer via a USB cable.
2. In M5Burner, click the Burn button corresponding to the appropriate firmware, fill in the Wi - Fi information, and select the corresponding device port.
    - **Note for MacOS**: There may be two selectable ports in MacOS. Please select the port named `wchmodem` when using.
3. After the device is powered on, insert the USB port and enter the download mode. After the connection, the software will pop up "Found New Device". At this time, the connection is successful, the screen does not display content, and it enters the programming mode.
4. Complete the firmware burning, fill in the device configuration that needs to be modified, and click `next`.
    - **Note**: After successful burning, the device needs to be restarted. If you need to modify the device configuration again, you need to modify the burning configuration information again.

Suggestions:
[SQ] Did you follow the correct steps during the re - flashing process?[/SQ]
[SQ] Have you checked the battery status of the Core2?[/SQ]
[SQ] Have you tried re - flashing the firmware again?[/SQ]

**用户：** which software should I use?

**助手：** The software you can use depends on your specific needs and the development environment you prefer. Here are some software options for M5Stack Core2 (SKU: K010):

### 1. M5Burner
- **Function**: Used for firmware burning and pushing programs to the device.
- **Steps**:
    - Refer to the [UIFlow Web IDE Tutorial](/zh_CN/uiflow/uiflow_web) to understand the basic process of using UIFlow and complete the installation of the M5Burner firmware burning tool.
    - Download the firmware suitable for `Core2` in M5Burner.

### 2. UIFlow2
- **Function**: A programming environment that supports both Blockly and Python programming.
- **Steps**:
    - Log in to [UiFlow2](https://uiflow2.m5stack.com/) system account. Note that this account needs to be the same as the one logged in to M5Burner.
    - After the device is successfully connected to a valid Wi - Fi, you can start programming through `Select Device`.

### 3. PlatformIO
- **Function**: If you prefer a more professional development environment, you can use PlatformIO for software development.
- **Steps**:
    - Create a project folder and call the `export.sh` in the esp - idf project to activate the relevant environment variables.
    - Execute the `idf.py create - project` command to create a blank project template.

Suggestions:
[SQ] Do you prefer graphical programming or text - based programming?[/SQ]
[SQ] Are you using a Windows, macOS, or Linux system?[/SQ]
[SQ] Do you need to connect the device to Wi - Fi during programming?[/SQ]

**用户：** same still - flashed to Core2FactoryTest but whilst it works, the boot doesnt from battery

**助手：** It appears that after flashing the Core2 (SKU: K010) to the factory test firmware, it only boots when connected to an external power source and fails to boot from the battery. Here are some possible reasons and solutions based on the information provided:

### Possible Reasons
1. **Battery Issues**: The battery might be depleted, damaged, or not properly connected.
2. **Power Management Settings**: The power management settings in the factory test firmware could be configured in a way that prevents the device from booting on battery power.
3. **Firmware Compatibility**: The factory test firmware may have compatibility issues with the battery or power management system of the Core2.

### Solutions
1. **Check the Battery**:
    - Ensure that the battery is properly connected to the device.
    - Try charging the battery fully and then attempt to boot the device from battery power.
2. **Review Power Management Settings**:
    - Check if there are any power management settings in the factory test firmware that can be adjusted to allow booting from the battery.
3. **Re - flash the Firmware**:
    - Try re - flashing the official firmware using M5 Burner to see if the issue persists. You can follow the general steps for Core2 firmware burning and program pushing:
        - Connect the device to the computer via a USB cable.
        - In M5Burner, click the Burn button corresponding to the appropriate firmware, fill in the Wi - Fi information, and select the corresponding device port.
        - After the device is powered on, insert the USB port and enter the download mode. After the connection, the software will pop up "Found New Device". At this time, the connection is successful, the screen does not display content, and it enters the programming mode.
        - Complete the firmware burning, fill in the device configuration that needs to be modified, and click `next`. Note that after successful burning, the device needs to be restarted. If you need to modify the device configuration again, you need to modify the burning configuration information again.

### Suggestions
[SQ] Have you checked the battery level and connection?[/SQ]
[SQ] Did you make any changes to the power management settings during the re - flashing process?[/SQ]
[SQ] Have you tried re - flashing the official firmware?[/SQ]

---

**用户：** is wpa 2 enterprise supported in the uiflow 1 firmware of the core 2?

**助手：** Yes, the Wi-Fi firmware on M5Stack devices generally supports WPA2 Enterprise. The provided information indicates that the firmware supports various Wi-Fi security protocols, including WPA2-Enterprise. When burning the program, you need to configure Wi-Fi and other information in the `Configure` of M5Burner.

[SQ] How to configure WPA2 Enterprise in M5Burner?[/SQ]

**用户：** How to configure WPA2 Enterprise in M5Burner?

**助手：** To configure WPA2 Enterprise in M5Burner, you can follow these general steps based on the provided information:

1. **Connect the device**: Connect the device to your computer via a USB cable.
2. **Select the appropriate firmware**: In M5Burner, select the corresponding firmware and click the `Burn` button.
3. **Fill in Wi - Fi information**: Fill in the Wi - Fi information that the device is expected to connect to, including the Wi - Fi SSID, password, and other necessary device configurations. If you are setting up WPA2 Enterprise, you may need to enter additional information such as the identity, password, and certificate details.

4. **Select the device port**: Select the corresponding device port.

5. **Complete the burning process**: After filling in all the information, wait for the burning process to complete. The device will restart after the firmware burning is successful.

6. **Modify device configuration (if necessary)**: After the device restarts, keep the USB connection. Use M5Burner to click the `Configure` option, fill in the device configuration that needs to be modified, and click `next`.

Please note that the specific steps may vary depending on the M5Stack device model you are using. 

[SQ] What specific information do I need to fill in for WPA2 Enterprise in the Wi - Fi information section?[/SQ]
[SQ] Are there any additional steps for different M5Stack device models?[/SQ]

**用户：** there is no username field to fill

**助手：** The provided information does not contain details specifically about a username field for WPA2 Enterprise configuration in M5Burner. However, generally, for WPA2 Enterprise configuration:

1. **Ensure Wi - Fi is configured**: When burning the program, you need to configure Wi - Fi and other information in the `Configure` of M5Burner.
2. **Select the device port**: Select the corresponding device port.
3. **Complete the burning process**: Wait for the burning process to complete. The device will restart after the firmware burning is successful.

If the username field is not visible in the M5Burner `Configure` section, here are some suggestions:

- **Check the firmware version**: Make sure you are using the latest firmware, as older versions may lack some features or have display issues.
- **Contact support**: If the problem persists, you can contact M5Stack support at support@m5stack.com for further assistance.

[SQ] How to update the firmware in M5Burner?[/SQ]
[SQ] What should I do if the problem still exists after contacting support?[/SQ]

---

**用户：** how to buy

**助手：** You can purchase M5Stack products from our official online store at [https://shop.m5stack.com](https://shop.m5stack.com). If you are interested in our new arrivals, please visit [https://shop.m5stack.com/collections/m5stack-new-arrival](https://shop.m5stack.com/collections/m5stack-new-arrival).

[SQ] Are there any specific products you're interested in?[/SQ]

**用户：** it just says eol

**助手：** It seems you've encountered products marked as "EOL" (End of Life), which means these products have been discontinued. Here are some M5Stack products that are EOL:
- [Paper](https://docs.m5stack.com/en/products/sku/K049) (SKU: K049): A touch - resistant e - paper display main control device.
- [Paper Comm Edition](https://docs.m5stack.com/en/products/sku/K049-C) (SKU: K049 - C): A commemorative edition development board with an e - paper display.
- [Module LTE](https://docs.m5stack.com/en/products/sku/M027) (SKU: M027): An LTE communication module.
- [Unit LoRaWAN470](https://docs.m5stack.com/en/products/sku/U116) (SKU: U116): A LoRaWAN communication module for the 470MHz frequency.
- [Gray](https://docs.m5stack.com/en/products/sku/K002) (SKU: K002): An advanced development kit.
- [Fire](https://docs.m5stack.com/en/products/sku/K007) (SKU: K007): A high - performance development kit.
- [Module LoRa433](https://docs.m5stack.com/en/products/sku/M005) (SKU: M005): A LoRa communication module operating at 433MHz.
- [Basic](https://docs.m5stack.com/en/products/sku/K001) (SKU: K001): A high - cost - performance entry - level development kit.
- [M5Stick](https://docs.m5stack.com/en/products/sku/K016) (SKU: K016): A charming IoT development board.
- [Module LoRaWAN](https://docs.m5stack.com/en/products/sku/M018) (SKU: M018): A node communication module supporting LoRaWAN.
- [Module USB](https://docs.m5stack.com/en/products/sku/M020) (SKU: M020): A USB driver module.
- [Module LoRa868](https://docs.m5stack.com/en/products/sku/M029) (SKU: M029): A LoRa communication module operating at 868MHz.
- [M5GO IoT Kit](https://docs.m5stack.com/en/products/sku/K006) (SKU: K006): A development kit for STEM education.
- [M5GO - Lite](https://docs.m5stack.com/en/products/sku/K022) (SKU: K022): A lightweight STEM education kit.
- [Base LAN PoE](https://docs.m5stack.com/en/products/sku/K012-C) (SKU: K012 - C): A base with LAN and PoE functionality.

Since these products are EOL, we cannot recommend them for purchase. However, we can still assist with any technical questions you may have about them. After answering technical questions about EOL products, we'll remind you that the product has stopped being supported.

[SQ] Are you looking for a replacement for these EOL products?[/SQ]

---

**用户：** atoms3r m12 win11无法识别到端口

**助手：** 当在Windows 11系统下，AtomS3R M12（SKU：C126-M12）[https://docs.m5stack.com/en/products/sku/C126-M12]无法被识别到端口时，你可以尝试以下方法：
1. **进入下载模式**：长按复位按键（大约2秒）直到内部绿色LED灯亮起，此时即可松开，这时设备已进入下载模式，等待烧录。
2. **确认端口**：可以尝试断开数据线连接，然后重新连接电脑，前后比较，新出现的端口则是AtomS3R M12使用的端口；或者使用电脑自带的设备管理器查看端口使用情况。
3. **安装驱动**：烧录固件与程序推送都需要使用到USB驱动，你可以在打开UIFlow编辑器的时候根据提示进行安装，或者选择要更新的固件版本，除了最新版本外，还提供了几个先前版本选择。部分点击UiFlow页面的左上角的“Driver Installation”打开驱动安装程序。

[SQ]按照上述方法操作后还是无法识别端口怎么办？[/SQ]

**用户：** 按照上述方法操作后还是无法识别端口怎么办？

**助手：** 若按照之前的方法操作后，AtomS3R M12（SKU：C126-M12）[https://docs.m5stack.com/en/products/sku/C126-M12] 仍然无法被识别到端口，你可以尝试以下额外的解决方法：
1. **安装 USB 驱动**：将设备连接至 PC，打开设备管理器为设备安装 [FTDI 驱动](https://ftdichip.com/drivers/vcp-drivers/)。以 win10 环境为例，下载匹配操作系统的驱动文件并解压，通过设备管理器进行安装。某些系统环境下，可能需要安装两次，驱动才会生效，未识别的设备名通常为 `M5Stack` 或 `USB Serial`，Windows 推荐使用驱动文件在设备管理器直接进行安装（自定义更新），可执行文件安装方式可能无法正常工作。
2. **检查设备管理器**：在设备管理器中查看是否有其他与 AtomS3R M12 相关的未知设备或带有黄色感叹号的设备。如果有，右键点击该设备，选择“更新驱动程序”，然后按照提示操作。
3. **尝试不同的 USB 端口和数据线**：有时候，问题可能出在 USB 端口或数据线上。尝试将设备连接到计算机的其他 USB 端口，或者更换一条数据线。
4. **使用其他电脑**：将 AtomS3R M12 连接到其他电脑上，看看是否能够被识别。如果在其他电脑上可以正常识别，那么问题可能出在原电脑的设置或驱动上。
5. **检查电源供应**：确保 AtomS3R M12 的电源供应正常。有时候，电源不足可能导致设备无法被识别。
6. **检查硬件故障**：如果以上方法都无法解决问题，可能是 AtomS3R M12 本身存在硬件故障。建议联系 M5Stack 的技术支持团队，他们可以提供进一步的帮助和解决方案。你可以通过 support@m5stack.com 联系他们。

[SQ]安装 FTDI 驱动后还是无法识别端口怎么办？[/SQ]

---

**用户：** atoms3r M12 串口线接入电脑怎么都识别不出来COM口

**助手：** 当AtomS3R M12（SKU：[C126-M12](https://docs.m5stack.com/en/products/sku/C126-M12)）通过串口线接入电脑后无法识别COM口，可尝试以下操作：
1. **检查连接**：确保设备通过USB线正确连接到电脑，并且连接稳定，没有松动或接触不良的情况。
2. **安装驱动**：电脑可能缺少必要的USB驱动程序。可将设备连接至PC，打开设备管理器为设备安装[FTDI 驱动](https://ftdichip.com/drivers/vcp-drivers/)。以win10环境为例，下载匹配操作系统的驱动文件，并解压，通过设备管理器进行安装。（注：某些系统环境下，需要安装两次，驱动才会生效，未识别的设备名通常为`M5Stack`或`USB Serial`，Windows 推荐使用驱动文件在设备管理器直接进行安装(自定义更新)，可执行文件安装方式可能无法正常工作）。
3. **进入下载模式**：若需烧录固件，请长按复位按键（大约2秒）直到内部绿色LED灯亮起，便可松开，此时设备已进入下载模式，等待烧录。
4. **选择端口**：连接USB后，持续按住RESET键直到显示绿灯松开进入编译模式，在M5Burner中点击对应固件的Burn按钮，填写Wi-Fi信息，选择对应设备端口。

[SQ] 安装驱动后仍然无法识别COM口怎么办？[/SQ]
[SQ] 进入下载模式后还有其他需要注意的事项吗？[/SQ]

**用户：** 安装驱动后仍然无法识别COM口怎么办？

**助手：** 若安装驱动后仍无法识别COM口，你可以按以下步骤操作：
1. **检查硬件连接**：确保AtomS3R M12（SKU：[C126-M12](https://docs.m5stack.com/en/products/sku/C126-M12)）通过USB线正确连接到电脑，并且连接稳定，没有松动或接触不良的情况。
2. **尝试不同的USB端口和线缆**：有时候，电脑的USB端口或USB线缆可能存在问题。你可以尝试将设备连接到其他USB端口，或者更换一根USB线缆，看看是否能够解决问题。
3. **检查设备管理器**：打开电脑的设备管理器，查看是否有未知设备或带有黄色感叹号的设备。如果有，请右键点击该设备，选择“更新驱动程序”，然后按照向导进行操作。
4. **进入下载模式**：若需烧录固件，请长按复位按键（大约2秒）直到内部绿色LED灯亮起，便可松开，此时设备已进入下载模式，等待烧录。
5. **选择端口**：连接USB后，持续按住RESET键直到显示绿灯松开进入编译模式，在M5Burner中点击对应固件的Burn按钮，填写Wi-Fi信息，选择对应设备端口。
6. **检查电脑系统设置**：某些电脑系统可能会限制或阻止设备的识别。你可以检查电脑的安全软件、防火墙或其他系统设置，确保它们没有阻止设备的连接。
7. **联系技术支持**：如果以上方法都无法解决问题，建议你联系M5Stack的技术支持团队，他们可以提供更具体的帮助和解决方案。你可以通过发送邮件至support@m5stack.com与他们取得联系。

[SQ] 尝试不同的USB端口和线缆后还是无法识别怎么办？[/SQ]
[SQ] 检查设备管理器时没有发现未知设备或带有黄色感叹号的设备该如何处理？[/SQ]

---

**用户：** 我使用Unit ASR 发送12（十六进制）给我的esp32开发板 当esp32接受到时 让19号引脚低电平该怎么做 请用arduino语言

**助手：** 你可以参考以下代码示例，实现当ESP32接收到Unit ASR发送的十六进制数`12`时，将19号引脚设置为低电平：
```cpp
#include <M5Unified.h>
#include <unit_asr.hpp>

ASRUnit asr;
const int pin = 19;

// 自定义命令处理函数
void CommandHandler() {
    // 将19号引脚设置为低电平
    digitalWrite(pin, LOW);
}

void setup() {
    // 初始化M5
    M5.begin();
    // 初始化串口通信
    Serial.begin(115200);
    // 初始化Unit ASR，设置串口、波特率和引脚
    asr.begin(&Serial1, 115200, 22, 21);
    // 注册自定义命令和处理函数
    asr.addCommandWord(0x12, "CustomCommand", CommandHandler);
    // 将19号引脚设置为输出模式
    pinMode(pin, OUTPUT);
    // 将19号引脚设置为高电平
    digitalWrite(pin, HIGH);
}

void loop() {
    // 更新M5
    M5.update();
    // 检查是否接收到消息
    if (asr.checkMessage()) {
        // 打印当前命令字
        Serial.println(asr.getCurrentCommandWord());
        // 打印当前命令编号
        Serial.println(asr.getCurrentCommandNum());
        // 打印当前原始消息
        Serial.println(asr.getCurrentRawMessage());
        // 检查当前命令是否有对应的处理程序
        Serial.println(asr.checkCurrentCommandHandler());
    }
}
```
在上述代码中，我们定义了一个`CommandHandler`函数，用于将19号引脚设置为低电平。在`setup`函数中，我们初始化了M5、串口和Unit ASR，并注册了自定义命令`0x12`和对应的处理函数`CommandHandler`。在`loop`函数中，我们不断检查是否接收到消息，并打印相关信息。

请注意，上述代码中的`22`和`21`分别是Unit ASR的TX和RX引脚，你需要根据实际情况进行调整。此外，你还需要安装`M5Unit-ASR`库，可以从[这里](https://github.com/m5stack/M5Unit-ASR)下载。

[SQ] 代码中的波特率是否可以根据实际情况调整？[/SQ]
[SQ] 如何验证ESP32是否成功接收到Unit ASR发送的消息？[/SQ]

**用户：** 我用的是自己的esp32开发板 无法使用m5的库

**助手：** 如果无法使用M5的库，你可以基于ESP32的基础串口通信功能来实现这个需求。以下是一个Arduino语言的示例代码：

```cpp
// 定义接收缓冲区
#define BUFFER_SIZE 1
uint8_t buffer[BUFFER_SIZE];

// 定义引脚号
const int pin = 19;

void setup() {
  // 初始化串口通信，波特率为115200
  Serial.begin(115200);
  // 将19号引脚设置为输出模式
  pinMode(pin, OUTPUT);
  // 将19号引脚设置为高电平
  digitalWrite(pin, HIGH);
}

void loop() {
  // 检查串口是否有数据可读
  if (Serial.available() > 0) {
    // 读取数据到缓冲区
    int bytesRead = Serial.readBytes(buffer, BUFFER_SIZE);
    if (bytesRead > 0) {
      // 检查接收到的数据是否为十六进制数0x12
      if (buffer[0] == 0x12) {
        // 将19号引脚设置为低电平
        digitalWrite(pin, LOW);
      }
    }
  }
}
```

### 代码说明：
1. **`setup()`函数**：
    - 初始化串口通信，波特率设置为115200。
    - 将19号引脚设置为输出模式，并将其初始电平设置为高电平。

2. **`loop()`函数**：
    - 检查串口是否有数据可读。
    - 如果有数据可读，则将数据读取到缓冲区。
    - 检查接收到的数据是否为十六进制数`0x12`。
    - 如果接收到的数据是`0x12`，则将19号引脚设置为低电平。

### 注意事项：
- 请确保Unit ASR和ESP32的串口通信波特率一致，代码中使用的波特率是115200。
- 确保Unit ASR发送的数据格式和代码中处理的格式一致。

[SQ] 如何验证ESP32是否成功接收到Unit ASR发送的消息？[/SQ]
[SQ] 波特率是否可以根据实际情况调整？[/SQ]

---

