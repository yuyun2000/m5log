- 多语种回复，来问的大部分是英语和日语，也有中文韩语等其他语种，需要判断出具体的语种进行回复。注意代码不能被算作英语
- 拒绝答复，无关问题应该直接拒绝答复，避免多次调用知识库
- 一些不好出发的弱智回答，需要排查出对应的badcase进行优化和评估
- 代码回复相关：专业性提示，给出直接可用的例程




# TODO
短期：
1、优化主程序流程，分模块构建
2、反馈机制更新，对应的数据单独保存

中长期：
1、现有知识库的整理，比如分机型，分文档类型等等
2、代码知识库的搭建，用来提升代码答复能力
3、整理知识库的更新流程，方便实时更新
4、示例问答知识库，或者人为补充的标准答案
5、持续的反馈优化机制


# 新需求
- 退货等消息需要输出邮箱 √
- 追问具体产品型号 √
- 知识库返回词条数量优化 √
- 多轮对话过后，大模型的函数调用率明显降低的问题 √
甚至当我主动让他查询知识库，他还是不能完成，都胡乱输出了：
![](../file/Pasted%20image%2020250512182027.png)

- 有时候函数调用会以对话的形式出现，如下：
![](../file/Pasted%20image%2020250512182144.png)
有时候也会这样，只输出回复文本，没有内容：
![](../file/Pasted%20image%2020250513091820.png)

- 语种回复有问题，英语问
- pdf文档补充，不带尺寸图、原理图、认证信息

- 聊天框增加复制按钮，导出为md，以及代码块直接复制
- 知识库检索的时候不要带m5stack这种通用的信息，影响检索：
![](../file/Pasted%20image%2020250722113654.png)
![](../file/Pasted%20image%2020250722113727.png)


#### 文档补充
1、每个产品的发布时间，最起码限定到月份，这样可以让大模型知道新品是，产品的前后迭代等等
2、每个产品的购买连接，目前llm只能回复到商城购买
3、各个模块间的兼容？比如Module LLM Kit可以直接装在cores3上，但是文档中没有，所以llm就回复不能直接安装..
4、文档中的产品图没有标题，比如这个：https://docs.m5stack.com/zh_CN/core/m5paper
下面的尺寸图有标题，问模型就可以回复：
![](../file/Pasted%20image%2020250515153239.png)
但是上面的产品图是直接展示的，问模型就没有回复：
![](../file/Pasted%20image%2020250515153329.png)


![](../file/Pasted%20image%2020250515153430.png)
如果给产品图加上类似尺寸图的##标题 就可以进行回复了




5、最近上新记录&即将上新的产品



新版chatbot已经上线，网址：https://chat.m5stack.com/
mcp服务同步上线，接口地址：https://mcp.m5stack.com/sse

