接上文微调之后我们获得了这样的safetensor模型：https://huggingface.co/yunyu1258/qwen2.5-0.5b-ha/tree/main
该仓库的文件内容和官方qwen2.5格式一致，接下来我们要把safetensor转换为axmodel

首先安装pulsar2工具的环境，细节问题可以问`chat.m5stack.com`，官方ai助手，链接了公司对外的所有知识：
![](Pasted%20image%2020251230101449.png)

安装完之后进入docker环境，运行下面的命令进行模型转换
```
pulsar2 llm_build --input_path Qwen/qwen2.5-0.5b-ha --output_path Qwen/qwen2.5-0.5B-p1024-ha-ax650 --hidden_state_type bf16 --prefill_len 128 --kv_cache_len 1280 --last_kv_cache_len 128 --last_kv_cache_len 512 --last_kv_cache_len 1024 --chip AX650 --parallel 24
```
目录自己选，转换之后得到一系列axmodel模型；
接下来是替换预训练的模型，根据官方文档或者问chat，安装好llm-sys、llm-llm、openaiapi接口等包，并且安装好qwen2.5-0.5b模型，确保可以通过openaiapi调用，随后将上一步转换的axmodel模型替换官方模型，地址为/opt/m5stack/data/qwen2.....
替换完之后重启服务`systemctl restart llm-sys`,重启发起对话，就是你微调之后的模型了。注意模型转换的问题，或者安装包的问题或者其他流程中的问你，都可以问官方ai助手